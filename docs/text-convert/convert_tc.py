#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import sys

# 簡體到繁體的映射表
replacements = {
    # 常用詞彙
    '基础': '基礎', '教程': '教學', '给': '給', '开发者': '開發者',
    '这份': '這份', '文档': '文件', '为': '為', '准备': '準備',
    '目录': '目錄', '对比': '對比', '速成': '速成', '介绍': '介紹',
    '对照表': '對照表', '说明': '說明', '依赖': '依賴', '管理': '管理',
    '包管理器': '套件管理器', '安装': '安裝', '环境变量': '環境變數',
    '配置': '配置', '应用入口': '應用程式入口', '业务逻辑': '業務邏輯',
    '数据': '資料', '中间件': '中介軟體', '数据库': '資料庫',
    '内置': '內建', '迁移': '遷移', '查询': '查詢', '单个': '單一筆',
    '创建': '建立', '记录': '記錄', '保存': '儲存', '删除': '刪除',
    '装饰器': '裝飾器', '响应': '回應', '请求体': '請求本體',
    '请求': '請求', '参数': '參數', '认证': '認證', '验证': '驗證',
    
    # 專案相關
    '项目': '專案', '规划': '規劃', '后端': '後端', '设计': '設計',
    '架构': '架構', '概述': '概述', '信息': '資訊', '技术': '技術',
    '栈': '棧', '结构': '結構', '端点': '端點', '权限': '權限',
    '注册': '註冊', '登录': '登入', '个人资料': '個人資料',
    '博客': '部落格', '攀岩馆': '攀岩館', '相册': '相簿',
    '图片': '圖片', '评论': '評論', '类型': '類型', '内容': '內容',
    '视频': '影片', '搜索': '搜尋', '岩场': '岩場',
    '户外': '戶外', '扩展': '擴充', '未来': '未來',
    
    # 動詞
    '实现': '實作', '获取': '取得', '添加': '新增', '测试': '測試',
    '使用': '使用', '处理': '處理', '运行': '執行', '启动': '啟動',
    '创建': '建立', '显示': '顯示', '选择': '選擇', '检查': '檢查',
    '访问': '訪問', '提供': '提供', '支持': '支援', '确保': '確保',
    
    # 其他常用詞
    '详细': '詳細', '步骤': '步驟', '示例': '範例', '当前': '目前',
    '文件': '檔案', '目录': '目錄', '默认': '預設', '需要': '需要',
    '可以': '可以', '应该': '應該', '必须': '必須', '通过': '透過',
    '关于': '關於', '问题': '問題', '错误': '錯誤', '成功': '成功',
    '失败': '失敗', '完成': '完成', '开始': '開始', '结束': '結束',
    '继续': '繼續', '返回': '返回', '发送': '發送', '接收': '接收',
    
    # 技術術語保持一致
    '函数': '函式', '变量': '變數', '对象': '物件', '数组': '陣列',
    '类': '類別', '属性': '屬性', '方法': '方法', '接口': '介面',
    '异常': '例外', '处理': '處理', '错误': '錯誤', '调试': '除錯',
}

def convert_to_traditional(text):
    """將簡體中文轉換為繁體中文"""
    for simplified, traditional in replacements.items():
        text = text.replace(simplified, traditional)
    return text

def main():
    if len(sys.argv) < 2:
        print("Usage: python convert_tc.py <input_file>")
        sys.exit(1)
    
    input_file = sys.argv[1]
    
    try:
        with open(input_file, 'r', encoding='utf-8') as f:
            content = f.read()
        
        # 轉換
        converted_content = convert_to_traditional(content)
        
        # 寫回文件
        with open(input_file, 'w', encoding='utf-8') as f:
            f.write(converted_content)
        
        print(f"✓ 已轉換: {input_file}")
    
    except Exception as e:
        print(f"✗ 錯誤: {e}")
        sys.exit(1)

if __name__ == '__main__':
    main()
