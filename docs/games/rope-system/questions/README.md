# 題目格式規範

本文件定義題目的撰寫格式與規範，確保所有題目風格一致。

---

## 題目類型

### 1. 選擇題 (choice)

最常見的題型，提供 3-4 個選項，選擇一個正確答案。

**適用情境**：
- 知識概念測驗
- 情境判斷
- 正確操作辨識

### 2. 排序題 (ordering)

將多個步驟按正確順序排列。

**適用情境**：
- 系統轉換流程
- 操作步驟順序
- 安全檢查清單

### 3. 情境題 (situation)

本質是選擇題，但有更詳細的情境描述與圖片輔助。

**適用情境**：
- 複雜情境判斷
- 需要圖片說明的問題
- 實際操作模擬

---

## 難度定義

| 難度 | 符號 | 定義 | 計分 |
|------|------|------|------|
| 1 | ⭐ | 基礎知識，初學者應知道 | 100 分 |
| 2 | ⭐⭐ | 進階概念，需要實際經驗 | 125 分 |
| 3 | ⭐⭐⭐ | 複雜情境，需要綜合判斷 | 150 分 |

### 難度判定標準

**⭐ 簡單**
- 單一概念
- 答案明確
- 不需要情境判斷
- 例：確保器的正確穿繩方向

**⭐⭐ 中等**
- 需要理解原理
- 有一定的判斷空間
- 需要實際經驗
- 例：不同情況下的確保站位選擇

**⭐⭐⭐ 困難**
- 複雜情境
- 需要綜合多個知識點
- 有多個看似合理的選項
- 例：多繩距系統轉換的完整流程

---

## Markdown 格式

每個題目文件使用以下格式撰寫：

```markdown
# 類別名稱

> 類別說明

---

## Q1: 題目標題

**難度**：⭐ / ⭐⭐ / ⭐⭐⭐

**情境**

情境描述文字...

**問題**

問題內容？

**選項**

- A. 選項一
- B. 選項二
- C. 選項三
- D. 選項四（可選）

**正確答案**：A

**解釋**

為什麼 A 是正確答案的說明...

**圖片**（可選）

- 題目圖：`/images/questions/xxx.svg`
- 選項 A 圖：`/images/questions/xxx-a.svg`

**標籤**：`標籤1`, `標籤2`

---
```

---

## 選擇題範例

```markdown
## Q1: ATC 確保器穿繩方向

**難度**：⭐

**情境**

你準備使用 ATC 確保器進行頂繩確保。

**問題**

繩索穿過 ATC 的正確方向是？

**選項**

- A. 攀登者端在上，制動端在下
- B. 攀登者端在下，制動端在上
- C. 兩端都可以，沒有差別

**正確答案**：A

**解釋**

ATC 的設計讓制動端（下方）產生更大的摩擦力。如果裝反，制動效果會大幅降低，發生墜落時可能無法有效制停。

**圖片**

- 題目圖：`/images/questions/atc-diagram.svg`

**標籤**：`ATC`, `確保器`, `穿繩`
```

---

## 排序題範例

```markdown
## Q5: 先鋒到站流程

**難度**：⭐⭐

**情境**

你是先鋒，剛到達確保站（兩個 bolt）。跟攀者還在下方等待。

**問題**

請將以下步驟按正確順序排列：

**選項**

- A. 呼叫「固定」(Safe)
- B. 用 PAS/Daisy 連接到固定點
- C. 檢查固定點狀態
- D. 將繩索掛入固定點準備收繩
- E. 呼叫「收繩」
- F. 確認自我確保承重

**正確答案**：C → B → F → A → D → E

**解釋**

正確順序：
1. **檢查固定點** - 確保 bolt 狀態良好
2. **連接 PAS** - 建立自我確保
3. **確認承重** - 測試連接是否牢固
4. **呼叫固定** - 通知確保者你已安全
5. **掛入繩索** - 準備收繩系統
6. **呼叫收繩** - 開始收繩確保跟攀者

**標籤**：`多繩距`, `先鋒`, `固定點`, `系統轉換`
```

---

## 情境題範例

```markdown
## Q8: 墜落係數判斷

**難度**：⭐⭐⭐

**情境**

你正在先鋒攀登，目前的狀況如下：
- 你距離最後一個快扣 2 公尺
- 最後一個快扣距離確保者 8 公尺
- 繩索總長度約 10 公尺

![情境示意圖](/images/questions/fall-factor-scenario.svg)

**問題**

如果你現在墜落，墜落係數大約是多少？

**選項**

- A. 0.4（低風險）
- B. 0.8（中風險）
- C. 1.2（高風險）
- D. 1.6（極高風險）

**正確答案**：A

**解釋**

墜落係數 = 墜落距離 ÷ 繩索長度

- 墜落距離 = 2m（到快扣）× 2 = 4m
- 繩索長度 = 10m
- 墜落係數 = 4 ÷ 10 = 0.4

墜落係數 0.4 屬於較低風險，但仍需注意繩索延展和確保者的反應。

**圖片**

- 情境圖：`/images/questions/fall-factor-scenario.svg`
- 解釋圖：`/images/questions/fall-factor-calc.svg`

**標籤**：`墜落係數`, `先鋒`, `風險評估`
```

---

## 撰寫原則

### 1. 情境描述

- 簡潔明確，避免過多不相關資訊
- 使用「你」作為主角，增加代入感
- 如有必要，說明當前的環境條件

**好的範例**：
> 你正在確保先鋒，他已經掛了第三把快扣，目前在快扣上方約 1 公尺處。

**不好的範例**：
> 今天天氣很好，你和朋友來到岩場，你的朋友是先鋒，他很厲害已經爬了很多年，現在他在攀爬一條 5.10a 的路線...

### 2. 選項設計

- 選項長度盡量一致
- 錯誤選項要「合理但錯誤」，不要明顯荒謬
- 避免「以上皆是」「以上皆非」這類選項
- 選項按邏輯順序排列（如數字由小到大）

**好的選項**：
```
- A. 先自我確保到固定點
- B. 直接開始收繩
- C. 呼叫跟攀者開始攀爬
- D. 先休息一下再說
```

**不好的選項**：
```
- A. 做正確的事
- B. 跳下去
- C. 打電話叫直升機
- D. 以上皆非
```

### 3. 解釋撰寫

- 先說明為什麼正確答案是對的
- 再說明為什麼其他選項是錯的（重要錯誤要特別說明）
- 補充相關知識或注意事項
- 使用條列式方便閱讀

### 4. 安全導向

- 強調安全優先的原則
- 指出錯誤操作可能造成的後果
- 不要美化或淡化危險

---

## JSON 轉換格式

Markdown 題目會轉換為以下 JSON 格式存入資料庫：

```json
{
  "id": "sport-belay-001",
  "category_id": "sport-belay",
  "type": "choice",
  "difficulty": 1,
  "scenario": "你準備使用 ATC 確保器進行頂繩確保。",
  "question": "繩索穿過 ATC 的正確方向是？",
  "options": [
    { "id": "A", "text": "攀登者端在上，制動端在下", "image": null },
    { "id": "B", "text": "攀登者端在下，制動端在上", "image": null },
    { "id": "C", "text": "兩端都可以，沒有差別", "image": null }
  ],
  "correct_answer": "A",
  "explanation": "ATC 的設計讓制動端（下方）產生更大的摩擦力...",
  "image_url": "/images/questions/atc-diagram.svg",
  "animation_url": null,
  "tags": ["ATC", "確保器", "穿繩"],
  "is_active": true
}
```

---

## 題目編號規則

```
{類別代碼}-{序號}

範例：
sport-belay-001    運動攀登-基礎確保-第1題
sport-lead-015     運動攀登-先鋒攀登-第15題
trad-anchor-008    傳統攀登-固定點架設-第8題
trad-multipitch-023 傳統攀登-多繩距系統-第23題
```

### 類別代碼

| 代碼 | 類別 |
|------|------|
| sport-belay | 基礎確保 |
| sport-lead | 先鋒攀登 |
| sport-toprope | 頂繩架設 |
| sport-rappel | 垂降系統 |
| trad-anchor | 固定點架設 |
| trad-protection | 保護裝備放置 |
| trad-multipitch | 多繩距系統 |
| trad-rescue | 自我救援 |

---

## 圖片規範

### 檔案格式
- 優先使用 SVG（向量圖）
- 照片使用 WebP 或 PNG
- 動畫使用 MP4 或 GIF

### 檔案命名
```
{題目ID}-{描述}.{格式}

範例：
sport-belay-001-atc-diagram.svg
sport-lead-005-z-clip.svg
trad-anchor-003-cordelette-setup.mp4
```

### 圖片尺寸
- 題目圖：最大 800×600px
- 選項圖：最大 200×200px
- 動畫：最大 640×480px

### 圖片風格
- 使用簡約線條風格
- 配色與網站一致
- 重要部分使用黃色 (#FFE70C) 標註
- 包含必要的標註文字

---

## 審核清單

撰寫完題目後，請確認：

- [ ] 情境描述清楚明確
- [ ] 問題只有一個正確答案
- [ ] 選項沒有歧義
- [ ] 錯誤選項看起來合理
- [ ] 解釋完整且易懂
- [ ] 難度標記正確
- [ ] 標籤涵蓋主要關鍵字
- [ ] 圖片清晰且有意義
- [ ] 沒有錯字或文法錯誤
- [ ] 符合安全原則
