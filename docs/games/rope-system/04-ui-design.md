# UI 設計規範

## 設計原則

延續 NobodyClimb 網站的設計風格：

1. **簡約專業** - 減少視覺噪音，聚焦內容
2. **功能導向** - 清晰的操作引導
3. **一致性** - 與主網站風格統一
4. **回饋明確** - 即時的視覺與聽覺回饋

---

## 色彩系統

### 主要色彩

| 名稱 | 色碼 | 用途 |
|------|------|------|
| Primary | `#1B1A1A` | 主文字、主按鈕 |
| Accent | `#FFE70C` | 強調色、進度條、正確狀態 |
| Background | `#F5F5F5` | 頁面背景 |
| Surface | `#FFFFFF` | 卡片背景 |
| Text Secondary | `#535353` | 副文字 |
| Border | `#E5E5E5` | 邊框、分隔線 |

### 狀態色彩

| 狀態 | 色碼 | 用途 |
|------|------|------|
| Success | `#22C55E` | 答對、完成 |
| Error | `#EF4444` | 答錯、錯誤 |
| Warning | `#F59E0B` | 警告、提示 |
| Info | `#3B82F6` | 資訊提示 |

### 難度色彩

| 難度 | 星星色 | 背景色 |
|------|--------|--------|
| ⭐ 簡單 | `#22C55E` | `rgba(34, 197, 94, 0.1)` |
| ⭐⭐ 中等 | `#F59E0B` | `rgba(245, 158, 11, 0.1)` |
| ⭐⭐⭐ 困難 | `#EF4444` | `rgba(239, 68, 68, 0.1)` |

---

## 字體規範

### 字體家族

```css
--font-primary: 'Noto Sans TC', sans-serif;
--font-display: 'Glow Sans TC', sans-serif;
```

### 字體大小

| 名稱 | 大小 | 行高 | 用途 |
|------|------|------|------|
| Display | 32px | 1.2 | 頁面標題 |
| Heading | 24px | 1.3 | 區塊標題 |
| Subheading | 18px | 1.4 | 卡片標題 |
| Body | 16px | 1.5 | 內文 |
| Caption | 14px | 1.4 | 說明文字 |
| Small | 12px | 1.4 | 標籤、提示 |

---

## 組件規範

### 卡片 (Card)

```
┌─────────────────────────────────────┐
│                                     │
│  內容區域                            │
│                                     │
└─────────────────────────────────────┘

樣式：
- 背景：#FFFFFF
- 圓角：12px (rounded-xl)
- 陰影：0 1px 3px rgba(0,0,0,0.1)
- Hover 陰影：0 4px 12px rgba(0,0,0,0.1)
- 內距：20px (p-5)
```

### 按鈕 (Button)

**主要按鈕**
```
┌─────────────────────┐
│     按鈕文字         │
└─────────────────────┘

樣式：
- 背景：#1B1A1A
- 文字：#FFFFFF
- 圓角：8px
- 內距：12px 24px
- Hover：opacity 0.9
- Active：scale 0.98
```

**次要按鈕**
```
┌─────────────────────┐
│     按鈕文字         │
└─────────────────────┘

樣式：
- 背景：transparent
- 邊框：1px solid #1B1A1A
- 文字：#1B1A1A
- 圓角：8px
```

**選項按鈕（未選）**
```
┌─────────────────────────────────────┐
│ ○  選項內容                          │
└─────────────────────────────────────┘

樣式：
- 背景：#FFFFFF
- 邊框：1px solid #E5E5E5
- 圓角：8px
- 內距：16px
- Hover：border-color #1B1A1A
```

**選項按鈕（已選）**
```
┌─────────────────────────────────────┐
│ ●  選項內容                          │
└─────────────────────────────────────┘

樣式：
- 背景：rgba(255, 231, 12, 0.1)
- 邊框：2px solid #FFE70C
```

**選項按鈕（正確）**
```
┌─────────────────────────────────────┐
│ ✓  選項內容                          │
└─────────────────────────────────────┘

樣式：
- 背景：rgba(34, 197, 94, 0.1)
- 邊框：2px solid #22C55E
- 圖示：綠色勾勾
```

**選項按鈕（錯誤）**
```
┌─────────────────────────────────────┐
│ ✗  選項內容                          │
└─────────────────────────────────────┘

樣式：
- 背景：rgba(239, 68, 68, 0.1)
- 邊框：2px solid #EF4444
- 圖示：紅色叉叉
- 動畫：左右晃動
```

### 進度條 (Progress Bar)

```
▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░  40%

樣式：
- 軌道背景：#E5E5E5
- 填充色：#FFE70C
- 高度：8px
- 圓角：4px
- 動畫：width transition 0.3s ease
```

### 生命值 (Life Display)

```
❤️ ❤️ ❤️        滿血
❤️ ❤️ 🖤        剩2條命
❤️ 🖤 🖤        剩1條命

樣式：
- 有生命：#EF4444 填充
- 無生命：#E5E5E5 填充
- 大小：24px
- 間距：4px
- 失去時動畫：scale 1.2 → 1，顏色漸變
```

### 分數顯示 (Score Display)

```
分數: 1,250

樣式：
- 字體：24px bold
- 顏色：#1B1A1A
- 加分時動畫：數字滾動 + scale pulse
```

---

## 頁面佈局

### 遊戲首頁（類別選擇）

```
┌─────────────────────────────────────────────────────────────┐
│  ← 返回                                                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                 ⛰️ 攀岩系統練習                              │
│                                                             │
│         練習繩索系統操作，學習安全攀岩技術                     │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  運動攀登                                                    │
│  ─────────────────────────────────────────────              │
│                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │ 🎯 基礎確保  │  │ 🧗 先鋒攀登  │  │ 🔗 頂繩架設  │      │
│  │              │  │              │  │              │      │
│  │ ⭐ 入門      │  │ ⭐⭐ 進階    │  │ ⭐⭐ 進階    │      │
│  │ 15 題       │  │ 20 題       │  │ 15 題       │      │
│  │              │  │              │  │              │      │
│  │ ████░░ 60%  │  │ ██░░░░ 30%  │  │ ░░░░░░ 0%   │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
│                                                             │
│  ┌──────────────┐                                           │
│  │ ⬇️ 垂降系統  │                                           │
│  │              │                                           │
│  │ ⭐⭐ 進階    │                                           │
│  │ 15 題       │                                           │
│  │              │                                           │
│  │ ░░░░░░ 0%   │                                           │
│  └──────────────┘                                           │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  傳統攀登                                                    │
│  ─────────────────────────────────────────────              │
│                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │ ⚓ 固定點    │  │ 🔩 保護裝備  │  │ 🏔️ 多繩距   │      │
│  │              │  │              │  │              │      │
│  │ ⭐⭐ 進階    │  │ ⭐⭐ 進階    │  │ ⭐⭐⭐ 困難  │      │
│  │ 20 題       │  │ 20 題       │  │ 25 題       │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
│                                                             │
│  ┌──────────────┐                                           │
│  │ 🆘 自我救援  │                                           │
│  │              │                                           │
│  │ ⭐⭐⭐ 困難  │                                           │
│  │ 20 題       │                                           │
│  └──────────────┘                                           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 遊戲進行頁面（桌面版）

```
┌─────────────────────────────────────────────────────────────┐
│  ← 離開        基礎確保                           🔊 音效   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌────────────────────────┐  ┌────────────────────────────┐│
│  │                        │  │                            ││
│  │                        │  │  情境                       ││
│  │                        │  │  ──────────────────────    ││
│  │         ┌───┐          │  │  你準備使用 ATC 確保器進行  ││
│  │         │🧗│          │  │  頂繩確保。                 ││
│  │         └─┬─┘          │  │                            ││
│  │           │            │  │                            ││
│  │           │            │  │  問題                       ││
│  │      ═════╧═════       │  │  ──────────────────────    ││
│  │       【確保站】        │  │  繩索穿過 ATC 的正確方向   ││
│  │           │            │  │  是？                      ││
│  │           │            │  │                            ││
│  │           │            │  │  ┌────────────────────┐   ││
│  │           │            │  │  │ ○ 攀登者端在上，   │   ││
│  │           │            │  │  │   制動端在下       │   ││
│  │           │            │  │  └────────────────────┘   ││
│  │           │            │  │                            ││
│  │         ┌─┴─┐          │  │  ┌────────────────────┐   ││
│  │         │🧍│          │  │  │ ○ 攀登者端在下，   │   ││
│  │         └───┘          │  │  │   制動端在上       │   ││
│  │                        │  │  └────────────────────┘   ││
│  │                        │  │                            ││
│  │                        │  │  ┌────────────────────┐   ││
│  │                        │  │  │ ○ 兩端都可以       │   ││
│  │                        │  │  └────────────────────┘   ││
│  │                        │  │                            ││
│  └────────────────────────┘  └────────────────────────────┘│
│                                                             │
│  ▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░  第 3 題 / 共 15 題          │
│                                                             │
│  分數: 250                                       ❤️ ❤️ ❤️    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 遊戲進行頁面（手機版）

```
┌─────────────────────────┐
│ ←    基礎確保      🔊   │
├─────────────────────────┤
│                         │
│    ┌───┐                │
│    │🧗│  分數: 250     │
│    └───┘    ❤️❤️❤️       │
│                         │
├─────────────────────────┤
│                         │
│ 情境                    │
│ ────────────────────    │
│ 你準備使用 ATC 確保器   │
│ 進行頂繩確保。          │
│                         │
│ 問題                    │
│ ────────────────────    │
│ 繩索穿過 ATC 的正確     │
│ 方向是？                │
│                         │
│ ┌─────────────────────┐ │
│ │ ○ 攀登者端在上，    │ │
│ │   制動端在下        │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ ○ 攀登者端在下，    │ │
│ │   制動端在上        │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ ○ 兩端都可以        │ │
│ └─────────────────────┘ │
│                         │
├─────────────────────────┤
│ ▓▓▓▓▓░░░░░░░  3/15     │
└─────────────────────────┘
```

### 答題結果彈窗（答對）

```
┌─────────────────────────────────────┐
│                                     │
│              ✅                     │
│           答對了！                   │
│                                     │
│         +100 分                     │
│         連擊 x3 🔥                  │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        下一題 →              │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

### 答題結果彈窗（答錯 - 學習模式）

```
┌─────────────────────────────────────┐
│                                     │
│              ❌                     │
│           答錯了                    │
│                                     │
│  正確答案：A                        │
│  ─────────────────────────         │
│  攀登者端在上，制動端在下            │
│                                     │
│  解釋                               │
│  ─────────────────────────         │
│  ATC 的設計讓制動端（下方）產生      │
│  更大的摩擦力。如果裝反，制動效果    │
│  會大幅降低，發生墜落時可能無法      │
│  有效制停。                         │
│                                     │
│  ┌─────────────────────────────┐   │
│  │        繼續 →               │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

### 遊戲結束頁面

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│                        🎉                                   │
│                                                             │
│                   完成練習！                                 │
│                                                             │
│              ──────────────────────                         │
│                                                             │
│                    基礎確保                                  │
│                                                             │
│              ┌─────────────────────┐                        │
│              │                     │                        │
│              │    1,250 分         │                        │
│              │                     │                        │
│              │   正確率 80%        │                        │
│              │   12 / 15 題        │                        │
│              │                     │                        │
│              │   最高連擊 5        │                        │
│              │   用時 3:42         │                        │
│              │                     │                        │
│              └─────────────────────┘                        │
│                                                             │
│              ┌─────────────────────┐                        │
│              │     再玩一次        │                        │
│              └─────────────────────┘                        │
│                                                             │
│              ┌─────────────────────┐                        │
│              │     回到首頁        │                        │
│              └─────────────────────┘                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 動畫規格

### 掉落動畫

```
時間軸：0ms ────────────────────────── 800ms

0ms:    角色在原位
        開始晃動 (rotate: 0 → 15°)

100ms:  開始下墜
        rotate: 15° → -10°

200ms:  撞擊第一個平台
        短暫停頓 + 反彈
        播放撞擊音效

300ms:  繼續下墜
        rotate: -10° → 20°

400ms:  撞擊第二個平台
        播放撞擊音效

...

800ms:  到達最終位置
        角色恢復正常姿勢
```

**Framer Motion 配置**

```typescript
const fallAnimation = {
  y: [0, 60, 55, 120, 115, 180],
  rotate: [0, 15, -10, 20, -15, 0],
  transition: {
    duration: 0.8,
    ease: [0.45, 0.05, 0.55, 0.95],
    times: [0, 0.2, 0.25, 0.45, 0.5, 1],
  },
}
```

### 選項回饋動畫

**正確選項**
```typescript
const correctAnimation = {
  scale: [1, 1.02, 1],
  borderColor: ['#E5E5E5', '#22C55E', '#22C55E'],
  backgroundColor: ['#FFFFFF', 'rgba(34, 197, 94, 0.1)'],
  transition: { duration: 0.3 },
}
```

**錯誤選項**
```typescript
const wrongAnimation = {
  x: [0, -8, 8, -8, 8, 0],
  borderColor: '#EF4444',
  backgroundColor: 'rgba(239, 68, 68, 0.1)',
  transition: { duration: 0.4 },
}
```

### 分數增加動畫

```typescript
const scoreAnimation = {
  scale: [1, 1.2, 1],
  transition: { duration: 0.3 },
}

// 數字滾動效果使用 framer-motion 的 useSpring
const animatedScore = useSpring(score, {
  stiffness: 100,
  damping: 20,
})
```

### 生命值減少動畫

```typescript
const loseLifeAnimation = {
  scale: [1, 1.3, 0],
  opacity: [1, 1, 0],
  transition: { duration: 0.4 },
}
```

### 頁面轉場

```typescript
const pageTransition = {
  initial: { opacity: 0, y: 20 },
  animate: { opacity: 1, y: 0 },
  exit: { opacity: 0, y: -20 },
  transition: { duration: 0.3 },
}
```

---

## 音效規格

| 音效 | 檔案格式 | 長度 | 音量 | 觸發時機 |
|------|---------|------|------|---------|
| correct | MP3 | 0.3s | 70% | 答對時 |
| wrong | MP3 | 0.3s | 70% | 答錯時 |
| fall | MP3 | 0.8s | 60% | 掉落動畫中 |
| impact | MP3 | 0.2s | 50% | 撞擊平台時 |
| button | MP3 | 0.1s | 40% | 按鈕點擊 |
| complete | MP3 | 1.5s | 80% | 完成所有題目 |
| game-over | MP3 | 1.0s | 80% | 生命歸零 |

---

## 響應式斷點

| 斷點 | 寬度 | 佈局調整 |
|------|------|---------|
| Desktop | ≥1024px | 左右並排佈局 |
| Tablet | 768-1023px | 角色移至頂部，題目在下 |
| Mobile | <768px | 角色縮小，全寬選項按鈕 |

### Tailwind 配置

```javascript
// tailwind.config.js
module.exports = {
  theme: {
    screens: {
      'sm': '640px',
      'md': '768px',
      'lg': '1024px',
      'xl': '1280px',
    },
  },
}
```

---

## 無障礙設計

### 鍵盤操作

| 按鍵 | 功能 |
|------|------|
| Tab | 切換選項焦點 |
| Enter / Space | 選擇當前選項 |
| 1-4 | 快速選擇選項 A-D |
| Esc | 暫停 / 離開確認 |

### 螢幕閱讀器

- 所有圖片包含 alt 文字
- 選項狀態（已選、正確、錯誤）使用 aria-label
- 進度更新使用 aria-live

### 色彩對比

- 所有文字對比度 ≥ 4.5:1（符合 WCAG AA）
- 不僅依賴顏色傳達資訊（加上圖示）
