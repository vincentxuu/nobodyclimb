# MVP 功能範圍定義

> **目標**：定義最小可行產品範圍，聚焦解決「看得人多，寫的人少」
> **原則**：先讓飛輪轉起來，再加速

---

## 一、MVP 核心假設

### 要驗證的假設

```
假設 1：用戶不寫是因為「覺得自己沒什麼特別」
驗證方式：改變文案和引導後，填寫率是否提升

假設 2：降低門檻（一句話開始）可以提高參與
驗證方式：簡化版填寫 vs 完整版填寫的完成率比較

假設 3：社群回應可以激勵用戶持續貢獻
驗證方式：收到回應的用戶 vs 沒收到回應的用戶留存差異

假設 4：雙核心飛輪（完攀紀錄 + 故事回應）可以互相強化
驗證方式：兩個功能的交叉使用率
```

### MVP 成功標準

```
數量指標：
├─ 100 個註冊用戶
├─ 50 個完整人物誌（核心故事 3/3）
├─ 每個故事平均 2+ 則回應
└─ 7 日回訪率 > 30%

質量指標：
├─ 用戶反饋正面
├─ 有自發分享行為
└─ 開始出現用戶間的自然互動
```

---

## 二、功能範圍劃分

### IN：MVP 必須有

```
┌─────────────────────────────────────────────────────────────┐
│  MVP 核心功能                                                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  【用戶系統】                                                │
│  ✓ 註冊/登入（Email + 社群登入）                            │
│  ✓ 基本個人頁面                                             │
│                                                             │
│  【人物誌 - 核心故事】                                       │
│  ✓ 三題核心故事填寫                                         │
│  ✓ 引導式問答 UI                                            │
│  ✓ 公開展示頁面                                             │
│                                                             │
│  【故事回應】                                                │
│  ✓ 在故事下方回應                                           │
│  ✓ 快速回應按鈕（我也是、+1）                               │
│  ✓ 回應列表展示                                             │
│                                                             │
│  【社交互動】                                                │
│  ✓ 按讚（故事、回應）                                       │
│  ✓ 追蹤他人                                                 │
│                                                             │
│  【通知系統 - 基礎】                                         │
│  ✓ 有人回應你的故事                                         │
│  ✓ 有人追蹤你                                               │
│                                                             │
│  【探索】                                                    │
│  ✓ 首頁精選故事展示                                         │
│  ✓ 瀏覽他人人物誌                                           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### OUT：MVP 不做

```
┌─────────────────────────────────────────────────────────────┐
│  延後到 Phase 2+                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  【完攀紀錄系統】                                            │
│  ✗ 完攀紀錄 CRUD                                            │
│  ✗ 路線資料連結                                             │
│  ✗ 媒體上傳                                                 │
│  ✗ Beta 分享                                                │
│  → 原因：先驗證故事飛輪，再加入行動飛輪                     │
│                                                             │
│  【進階人物誌】                                              │
│  ✗ 31 題進階故事                                            │
│  ✗ 攀登履歷統計                                             │
│  ✗ 徽章系統                                                 │
│  → 原因：核心 3 題優先，其他漸進解鎖                        │
│                                                             │
│  【一句話系列探索頁】                                        │
│  ✗ 話題聚合頁                                               │
│  ✗ 熱門話題排行                                             │
│  → 原因：需要先有足夠內容                                   │
│                                                             │
│  【擴展飛輪】                                                │
│  ✗ 知識問答 (F)                                             │
│  ✗ 岩況回報 (G)                                             │
│  ✗ 約爬揪團 (H)                                             │
│  ✗ 挑戰成就 (I)                                             │
│  ✗ 裝備心得 (J)                                             │
│  ✗ 動作診斷 (K)                                             │
│  ✗ 遊戲擴展 (L)                                             │
│  → 原因：Phase 5 功能                                       │
│                                                             │
│  【進階通知】                                                │
│  ✗ Email 週報                                               │
│  ✗ 推播通知                                                 │
│  ✗ 記錄提醒                                                 │
│  → 原因：先確保基礎通知有效                                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### MAYBE：視情況加入

```
┌─────────────────────────────────────────────────────────────┐
│  可選功能（如果時間允許）                                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  【分享優化】                                                │
│  ? OG Image 自動生成                                        │
│  ? 分享文案自動帶入                                         │
│  → 對冷啟動有幫助，但不是核心                               │
│                                                             │
│  【簡易完攀紀錄】                                            │
│  ? 快速標記「我爬過」                                       │
│  ? 不需要詳細資訊                                           │
│  → 降低門檻版的完攀紀錄                                     │
│                                                             │
│  【追蹤者動態】                                              │
│  ? 追蹤者更新通知                                           │
│  → 增加回訪動機                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 三、功能優先級排序

### P0：沒有就不能上線

| 功能 | 說明 | 驗證假設 |
|------|------|---------|
| 社群登入 | Google/FB 一鍵註冊 | 降低註冊摩擦 |
| 核心故事填寫 | 3 題引導式問答 | 降低填寫門檻 |
| 故事展示頁 | 公開個人頁面 | 內容可被分享 |
| 故事回應 | 在別人故事下留言 | 社群互動 |
| 基礎通知 | 有人回應時通知 | 回訪機制 |

### P1：上線後第一週要有

| 功能 | 說明 | 驗證假設 |
|------|------|---------|
| 快速回應按鈕 | 「我也是」「+1」 | 降低互動門檻 |
| 按讚功能 | 對故事/回應按讚 | 輕量互動 |
| 首頁精選 | 展示優質故事 | 社會證明 |
| 追蹤功能 | 追蹤有趣的人 | 社交連結 |

### P2：上線後兩週內

| 功能 | 說明 | 驗證假設 |
|------|------|---------|
| 追蹤通知 | 有人追蹤你 | 社交回饋 |
| 簡易探索 | 瀏覽其他用戶 | 發現內容 |
| 分享優化 | 預覽圖優化 | 社群擴散 |

---

## 四、技術實作範圍

### 資料庫（需新增）

```sql
-- MVP 所需表格

-- 1. 故事回應表（核心）
CREATE TABLE story_responses (
  id TEXT PRIMARY KEY,
  biography_id TEXT NOT NULL,
  story_field TEXT NOT NULL,
  responder_id TEXT NOT NULL,
  content TEXT NOT NULL,
  response_type TEXT DEFAULT 'text',  -- 'text' | 'quick' (我也是/+1)
  likes_count INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),
  FOREIGN KEY (biography_id) REFERENCES biographies(id) ON DELETE CASCADE,
  FOREIGN KEY (responder_id) REFERENCES users(id)
);

-- 2. 故事回應按讚
CREATE TABLE story_response_likes (
  id TEXT PRIMARY KEY,
  story_response_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),
  UNIQUE(story_response_id, user_id),
  FOREIGN KEY (story_response_id) REFERENCES story_responses(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 3. 人物誌故事欄位按讚（針對特定故事欄位的按讚）
CREATE TABLE biography_story_field_likes (
  id TEXT PRIMARY KEY,
  biography_id TEXT NOT NULL,
  story_field TEXT NOT NULL,
  user_id TEXT NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),
  UNIQUE(biography_id, story_field, user_id),
  FOREIGN KEY (biography_id) REFERENCES biographies(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 4. 通知表
CREATE TABLE notifications (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  type TEXT NOT NULL,  -- 'story_response' | 'follow' | 'like'
  actor_id TEXT,
  target_type TEXT,
  target_id TEXT,
  is_read INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

### API 端點（需新增）

```typescript
// 故事回應
POST   /api/v1/biographies/:id/stories/:field/responses
GET    /api/v1/biographies/:id/stories/:field/responses
DELETE /api/v1/story-responses/:id

// 按讚
POST   /api/v1/story-responses/:id/like
DELETE /api/v1/story-responses/:id/like
POST   /api/v1/biographies/:id/stories/:field/like
DELETE /api/v1/biographies/:id/stories/:field/like

// 通知
GET    /api/v1/notifications
POST   /api/v1/notifications/:id/read
POST   /api/v1/notifications/read-all
```

### 前端頁面（需新增/修改）

```
新增：
├─ 通知中心頁面
└─ 通知下拉選單

修改：
├─ 人物誌頁面 → 加入回應區塊
├─ 首頁 → 加入精選故事展示
├─ 註冊流程 → 加入引導式問答
└─ 個人頁面 → 加入空狀態設計
```

---

## 五、UI/UX 優先處理

### 必須修改

| 頁面 | 修改內容 | 優先級 |
|------|---------|--------|
| 註冊流程 | 加入引導式首題 | P0 |
| 人物誌填寫 | 改為一題一題問 | P0 |
| 人物誌展示 | 每個故事可回應 | P0 |
| 個人頁空狀態 | 鼓勵性文案設計 | P0 |
| 首頁 | 精選故事展示 | P1 |

### 文案優化

| 位置 | 現有（假設） | 建議 |
|------|-------------|------|
| 首頁標語 | 「記錄你的攀岩履歷」 | 「每個攀岩者都有故事」 |
| 註冊 CTA | 「建立帳號」 | 「開始你的故事」 |
| 人物誌標題 | 「填寫你的人物誌」 | 「來聊聊你的攀岩故事」 |
| 空狀態 | 「還沒有內容」 | 「你的故事即將開始」 |

---

## 六、不做清單（明確排除）

### 這些功能 MVP 不做

| 功能 | 排除原因 |
|------|---------|
| 完攀紀錄上傳 | 先驗證故事飛輪 |
| 路線資料編輯 | 與核心假設無關 |
| 照片/影片上傳 | 增加複雜度 |
| 徽章/成就系統 | 需要先有用戶行為數據 |
| Email 通知 | Web 通知優先 |
| 手機 App | Web 優先 |
| 後台管理 | 初期手動處理 |
| 數據分析儀表板 | 初期用 SQL 查詢 |

### 這些優化 MVP 不做

| 優化 | 排除原因 |
|------|---------|
| 無限滾動 | 分頁足夠 |
| 即時更新 | 重新整理足夠 |
| 離線支援 | 非必要 |
| 多語言 | 先做繁體中文 |
| SEO 深度優化 | 冷啟動不靠搜尋 |

---

## 七、開發順序建議

### Sprint 1（Week 1-2）：核心填寫體驗

```
目標：讓用戶可以完成核心故事填寫

任務：
□ 引導式問答 UI 組件
□ 核心故事 3 題填寫流程
□ 人物誌展示頁面調整
□ 空狀態設計實作
□ 文案調整
```

### Sprint 2（Week 3-4）：故事回應

```
目標：讓用戶可以回應別人的故事

任務：
□ story_responses 資料表
□ 回應 API 端點
□ 回應 UI 組件
□ 快速回應按鈕（我也是）
□ 按讚功能
```

### Sprint 3（Week 5-6）：通知與探索

```
目標：讓用戶知道有人回應、能發現內容

任務：
□ notifications 資料表
□ 通知 API 端點
□ 通知中心 UI
□ 首頁精選故事
□ 追蹤通知
```

### Sprint 4（Week 7-8）：優化與上線

```
目標：準備上線

任務：
□ 分享預覽優化
□ 效能優化
□ Bug 修復
□ 種子內容準備
□ 上線
```

---

## 八、MVP 後的路線圖

### Phase 2：完攀紀錄（驗證故事飛輪後）

```
前提：故事飛輪已驗證有效

新增功能：
├─ 簡易完攀紀錄
├─ 路線連結
├─ 照片上傳
└─ Beta 分享
```

### Phase 3：探索與發現

```
前提：有足夠內容

新增功能：
├─ 一句話系列探索頁
├─ 話題排行
├─ 推薦演算法
└─ 搜尋功能
```

### Phase 4：進階社交

```
前提：有活躍社群

新增功能：
├─ Email 週報
├─ 推播通知
├─ 年度回顧
└─ 徽章系統
```

### Phase 5：擴展飛輪

```
前提：核心飛輪穩定運轉

新增功能：
├─ 知識問答
├─ 岩況回報
├─ 約爬揪團
└─ 其他子飛輪
```

---

## 九、風險與應對

### 風險 1：開發時間超出預期

```
應對：
├─ 嚴格遵守「不做清單」
├─ 如果來不及，先砍「MAYBE」功能
└─ MVP 不求完美，求驗證
```

### 風險 2：上線後沒人用

```
應對：
├─ 先準備種子用戶（冷啟動手冊）
├─ 不要「Build it and they will come」
└─ 上線前就要有 30 個種子用戶準備好
```

### 風險 3：假設錯誤

```
應對：
├─ 快速上線、快速學習
├─ 準備好 Pivot 的心態
└─ 用戶訪談比數據更重要
```

---

## 十、成功標準總結

### MVP 上線標準

```
功能完成：
✓ 社群登入可用
✓ 核心故事填寫可用
✓ 故事回應可用
✓ 基礎通知可用
✓ 首頁有精選內容

內容準備：
✓ 30 個種子用戶已填寫
✓ 20+ 完整人物誌
✓ 每個故事有 2+ 回應

運營準備：
✓ 種子用戶已 onboard
✓ 社群發文素材已準備
✓ 監控與回報流程已建立
```

### 上線後 30 天成功標準

```
✓ 100 個註冊用戶
✓ 50 個完整人物誌
✓ 每個故事平均 2+ 回應
✓ 7 日回訪率 > 30%
✓ 出現自發分享行為
✓ 用戶正面反饋
```

**達成這些標準，即可進入 Phase 2**
