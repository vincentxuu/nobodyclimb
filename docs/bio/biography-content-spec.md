# 人物誌內容完整規劃文件

> 版本: 2.0
> 建立日期: 2026-01-13
> 狀態: 最終規劃
> 整合文件: demand.md, biography-redesign-spec.md, biography-content-adjustment.md, biography-questions-analysis.md, biography-social-media-integration.md

---

## 目錄

1. [設計理念](#設計理念)
2. [核心需求與目標](#核心需求與目標)
3. [完整資料結構](#完整資料結構)
4. [內容架構設計](#內容架構設計)
5. [填寫流程設計](#填寫流程設計)
6. [呈現設計](#呈現設計)
7. [社群互動機制](#社群互動機制)
8. [技術實作](#技術實作)
9. [實作優先序](#實作優先序)

---

## 設計理念

### 核心精神

**「讓每個攀岩者的故事被看見，讓每個夢想得到鼓勵」**

基於社群回饋，我們希望人物誌能夠:

1. **分享成長歷程** - 不只是成就，更重要的是過程中的掙扎、突破與收穫
2. **提供實用參考** - 路線心得、受傷經驗、攀岩足跡，幫助他人少走彎路
3. **展現攀岩多元** - 讓新手了解攀岩世界的廣闊，不僅限於室內或競賽
4. **建立社群連結** - 找到志同道合的岩友，互相激勵與支持
5. **記錄個人旅程** - 用結構化的方式追蹤自己的攀岩人生清單

### 設計原則

1. **漸進式填寫** - 從基本到深入，不強制一次完成
2. **故事化呈現** - 用故事卡片取代枯燥的列表
3. **社群驅動** - 強調互動、分享與鼓勵
4. **低維護成本** - 自動化追蹤、選填性功能、媒體整合
5. **隱私可控** - 用戶可選擇公開程度

---

## 核心需求與目標

### 來自社群的需求

根據 `demand.md` 收集的回饋：

| 需求類型 | 具體需求 | 對應設計 |
|---------|---------|---------|
| **成長故事** | 攀岩帶給自己的改變或收穫 (如挫折忍受力的成長) | 進階故事：「攀岩教會我的事」「曾經想放棄的時刻」 |
| **路線心得** | 為什麼想爬、爬完後的感想(心理)、技術細節(物理) | 人生清單完成故事、路線心得分享 |
| **攀岩視野** | 讓新手知道攀岩世界有多廣闊(戶外outline) | 攀岩足跡地圖、完成清單的多樣性展示 |
| **受傷與轉變** | 受傷的故事或心境轉變 | 進階故事：「最大的突破經歷」「面對恐懼的方式」 |
| **攀岩足跡** | 想知道誰去過哪裡、可以問誰 | 攀岩足跡標記、地點關聯、岩友連結 |

### 設計目標

1. **豐富的故事內容** - 從「7個基本問題」擴展到「3層故事架構」
2. **結構化清單** - 將純文字人生清單改為可追蹤的結構化項目
3. **媒體整合** - 連結 YouTube 影片、Instagram 貼文
4. **社群互動** - 按讚、留言、參考清單、追蹤功能
5. **探索機制** - 主題式瀏覽、地點探索、熱門推薦

---

## 完整資料結構

### 1. Biography - 人物誌主表

```typescript
interface Biography {
  // ═══════════════════════════════════════════
  // 基本資訊
  // ═══════════════════════════════════════════
  id: string
  user_id: string | null
  slug: string                        // URL 友善的識別碼
  name: string                        // 暱稱
  avatar_url: string | null
  cover_image: string | null

  // ═══════════════════════════════════════════
  // 第一層：攀岩基本資訊（必填）
  // ═══════════════════════════════════════════
  climbing_start_year: string | null      // 哪一年開始攀岩
  frequent_locations: string | null       // 平常出沒的地方 (逗號分隔)
  favorite_route_type: string | null      // 喜歡的路線型態 (抱石/先鋒/速度/傳攀)

  // ═══════════════════════════════════════════
  // 第二層：核心故事（強烈建議填寫）
  // ═══════════════════════════════════════════
  climbing_origin: string | null          // 你與攀岩的相遇
  climbing_meaning: string | null         // 攀岩對你來說是什麼
  advice_to_self: string | null           // 給剛開始攀岩的自己

  // ═══════════════════════════════════════════
  // 第三層：進階故事（選填，30題，豐富內容）
  // ═══════════════════════════════════════════

  // A. 成長與突破（6題）
  memorable_moment: string | null         // 最難忘的攀登經歷
  biggest_challenge: string | null        // 遇到的最大挑戰與如何面對
  breakthrough_story: string | null       // 最大的突破經歷
  first_outdoor: string | null            // 第一次戶外攀岩的經歷
  first_grade: string | null              // 第一次完攀某個難度的感覺
  frustrating_climb: string | null        // 最挫折的一次攀登經歷

  // B. 心理與哲學（6題）
  fear_management: string | null          // 如何克服攀岩中的恐懼
  climbing_lesson: string | null          // 攀岩教會你最重要的一件事
  failure_perspective: string | null      // 攀岩如何改變你看待失敗
  flow_moment: string | null              // 在岩壁上的心流時刻
  life_balance: string | null             // 攀岩與生活的平衡
  unexpected_gain: string | null          // 攀岩帶給你的意外收穫

  // C. 社群與連結（6題）
  climbing_mentor: string | null          // 攀岩路上的貴人
  climbing_partner: string | null         // 最喜歡的攀岩夥伴與故事
  funny_moment: string | null             // 攀岩時最尷尬或搞笑的時刻
  favorite_spot: string | null            // 最推薦的攀岩地點與原因
  advice_to_group: string | null          // 想對某個族群說的話
  climbing_space: string | null           // 最難忘的岩館或攀岩空間

  // D. 實用分享（6題）
  injury_recovery: string | null          // 一次受傷經歷與從中學到的事
  memorable_route: string | null          // 最想分享的一次攀登經驗
  training_method: string | null          // 你的訓練方式與心得
  effective_practice: string | null       // 對你最有效的練習方法
  technique_tip: string | null            // 一個對你很有幫助的技巧
  gear_choice: string | null              // 攀岩裝備的選擇心得

  // E. 夢想與探索（6題）
  dream_climb: string | null              // 夢想中的攀登
  climbing_trip: string | null            // 一次特別的攀岩旅行
  bucket_list_story: string | null        // 完成人生清單中某個目標的故事
  climbing_goal: string | null            // 目前最想達成的攀岩目標
  climbing_style: string | null           // 最吸引你的攀岩風格
  climbing_inspiration: string | null     // 啟發你的攀岩者或影片

  // F. 生活整合（0題，合併到其他類別）
  life_outside_climbing: string | null    // 除了攀岩，還讓我著迷的事

  // ═══════════════════════════════════════════
  // 攀岩足跡（新增）
  // ═══════════════════════════════════════════
  climbing_locations: ClimbingLocation[] | null  // 去過的地方

  // ═══════════════════════════════════════════
  // 媒體與社群
  // ═══════════════════════════════════════════
  gallery_images: string[] | null         // 照片集
  social_links: {
    instagram?: string                    // IG 用戶名
    youtube_channel?: string              // YT 頻道 ID/handle
    facebook?: string
    threads?: string
    website?: string
  } | null
  youtube_channel_id: string | null       // YT 頻道 ID
  featured_video_id: string | null        // 精選影片 ID

  // ═══════════════════════════════════════════
  // 狀態
  // ═══════════════════════════════════════════
  is_featured: boolean
  is_public: boolean
  published_at: string | null
  created_at: string
  updated_at: string

  // ═══════════════════════════════════════════
  // 統計
  // ═══════════════════════════════════════════
  total_likes: number
  total_views: number
  follower_count: number
}

// 攀岩足跡
interface ClimbingLocation {
  location: string                        // 地點名稱
  country: string                         // 國家
  visit_year: string | null               // 造訪年份
  notes: string | null                    // 心得筆記
  photos: string[] | null                 // 照片
  is_public: boolean                      // 是否公開
}
```

### 2. BucketListItem - 人生清單

```typescript
interface BucketListItem {
  id: string
  biography_id: string

  // ═══════════════════════════════════════════
  // 基本內容（必填）
  // ═══════════════════════════════════════════
  title: string                           // 目標標題
  category: BucketListCategory

  // ═══════════════════════════════════════════
  // 選填內容
  // ═══════════════════════════════════════════
  description: string | null              // 詳細描述
  target_grade: string | null             // 目標難度
  target_location: string | null          // 目標地點
  target_date: string | null              // 預計完成日期

  // ═══════════════════════════════════════════
  // 狀態（簡單三態）
  // ═══════════════════════════════════════════
  status: 'active' | 'completed' | 'archived'
  completed_at: string | null

  // ═══════════════════════════════════════════
  // 進度追蹤（選填功能）
  // ═══════════════════════════════════════════
  enable_progress: boolean                // 是否開啟進度追蹤
  progress_mode: 'manual' | 'milestone' | null
  progress: number                        // 手動模式：0-100
  milestones: Milestone[] | null          // 里程碑模式

  // ═══════════════════════════════════════════
  // 完成故事（選填）- 對應社群需求的「路線心得」
  // ═══════════════════════════════════════════
  completion_story: string | null
  psychological_insights: string | null   // 心理層面的感想
  technical_insights: string | null       // 技術層面的心得(如放保護點、入繩點)
  completion_media: {
    youtube_videos?: string[]             // YouTube 影片 ID
    instagram_posts?: string[]            // IG 貼文 shortcode
    photos?: string[]                     // 照片
  } | null

  // ═══════════════════════════════════════════
  // 社群
  // ═══════════════════════════════════════════
  is_public: boolean
  likes_count: number
  inspired_count: number                  // 被加入清單次數
  comments_count: number

  // ═══════════════════════════════════════════
  // 其他
  // ═══════════════════════════════════════════
  sort_order: number
  created_at: string
  updated_at: string
}

// 分類
type BucketListCategory =
  | 'outdoor_route'      // 戶外路線
  | 'indoor_grade'       // 室內難度
  | 'competition'        // 比賽目標
  | 'training'           // 訓練目標
  | 'adventure'          // 冒險挑戰（如海外攀岩）
  | 'skill'              // 技能學習
  | 'injury_recovery'    // 受傷復原（新增）
  | 'other'              // 其他

// 里程碑
interface Milestone {
  id: string
  title: string
  percentage: number                      // 20, 40, 60, 80, 100
  completed: boolean
  completed_at: string | null
  note: string | null
}
```

### 3. 媒體關聯表

```typescript
// YouTube 影片關聯
interface BiographyVideo {
  id: string
  biography_id: string
  video_id: string                        // YouTube video ID
  relation_type: 'own_content' | 'featured_in' | 'mentioned' | 'recommended' | 'completion_proof'
  is_featured: boolean
  display_order: number
  created_at: string
}

// Instagram 貼文關聯
interface BiographyInstagram {
  id: string
  biography_id: string
  instagram_url: string
  instagram_shortcode: string
  media_type: 'IMAGE' | 'VIDEO' | 'CAROUSEL' | 'REEL'
  thumbnail_url: string | null
  caption: string | null
  posted_at: string | null
  relation_type: 'own_post' | 'tagged' | 'mentioned' | 'completion_proof'
  is_featured: boolean
  display_order: number
  created_at: string
  updated_at: string
}
```

### 4. 互動與社群表

```typescript
// 按讚
interface BucketListLike {
  id: string
  bucket_list_item_id: string
  user_id: string
  created_at: string
}

// 留言
interface BucketListComment {
  id: string
  bucket_list_item_id: string
  user_id: string
  content: string
  created_at: string
}

// 目標參考
interface BucketListReference {
  id: string
  source_item_id: string                  // 原始目標
  target_biography_id: string             // 參考者
  created_at: string
}

// 追蹤
interface Follow {
  id: string
  follower_id: string
  following_id: string
  created_at: string
}

// 通知
interface Notification {
  id: string
  user_id: string
  type: NotificationType
  actor_id: string | null
  target_id: string | null
  title: string
  message: string
  is_read: boolean
  created_at: string
}

type NotificationType =
  | 'goal_completed'
  | 'goal_liked'
  | 'goal_commented'
  | 'goal_referenced'
  | 'new_follower'
  | 'story_featured'
```

---

## 內容架構設計

### 填寫架構：三層式設計

```
┌─────────────────────────────────────────────────────────────┐
│                     第一層：基本資訊                         │
│                   （必填，建立人物誌）                       │
├─────────────────────────────────────────────────────────────┤
│ • 暱稱、頭像                                                │
│ • 開始攀岩年份                                              │
│ • 常出沒地點                                                │
│ • 喜歡的路線型態                                            │
└─────────────────────────────────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                    第二層：核心故事                          │
│              （強烈建議，讓人物誌有靈魂）                    │
├─────────────────────────────────────────────────────────────┤
│ • 你與攀岩的相遇                                            │
│ • 攀岩對你來說是什麼                                        │
│ • 給剛開始攀岩的自己                                        │
│                                                             │
│ + 人生清單（結構化目標）                                    │
└─────────────────────────────────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                   第三層：進階故事                           │
│        （選填30題，每次登入推薦1題，慢慢累積故事）           │
├─────────────────────────────────────────────────────────────┤
│ A. 成長與突破（6題）                                        │
│ • 最難忘的攀登經歷                                          │
│ • 遇到的最大挑戰與如何面對                                  │
│ • 最大的突破經歷                                            │
│ • 第一次戶外攀岩的經歷                                      │
│ • 第一次完攀某個難度的感覺                                  │
│ • 最挫折的一次攀登經歷                                      │
│                                                             │
│ B. 心理與哲學（6題）                                        │
│ • 如何克服攀岩中的恐懼                                      │
│ • 攀岩教會你最重要的一件事                                  │
│ • 攀岩如何改變你看待失敗                                    │
│ • 在岩壁上的心流時刻                                        │
│ • 攀岩與生活的平衡                                          │
│ • 攀岩帶給你的意外收穫                                      │
│                                                             │
│ C. 社群與連結（6題）                                        │
│ • 攀岩路上的貴人                                            │
│ • 最喜歡的攀岩夥伴與故事                                    │
│ • 攀岩時最尷尬或搞笑的時刻                                  │
│ • 最推薦的攀岩地點與原因                                    │
│ • 想對某個族群說的話                                        │
│ • 最難忘的岩館或攀岩空間                                    │
│                                                             │
│ D. 實用分享（6題）                                          │
│ • 一次受傷經歷與從中學到的事                                │
│ • 最想分享的一次攀登經驗                                    │
│ • 你的訓練方式與心得                                        │
│ • 對你最有效的練習方法                                      │
│ • 一個對你很有幫助的技巧                                    │
│ • 攀岩裝備的選擇心得                                        │
│                                                             │
│ E. 夢想與探索（6題）                                        │
│ • 夢想中的攀登                                              │
│ • 一次特別的攀岩旅行                                        │
│ • 完成人生清單中某個目標的故事                              │
│ • 目前最想達成的攀岩目標                                    │
│ • 最吸引你的攀岩風格                                        │
│ • 啟發你的攀岩者或影片                                      │
│                                                             │
│ F. 生活整合（1題）                                          │
│ • 除了攀岩，還讓我著迷的事                                  │
│                                                             │
│ + 攀岩足跡（獨立功能）                                      │
│ • 去過的地方與心得                                          │
│                                                             │
│ + 媒體整合（獨立功能）                                      │
│ • YouTube 影片                                             │
│ • Instagram 貼文                                           │
└─────────────────────────────────────────────────────────────┘
```

### 題目設計總覽

| 層級 | 欄位名稱 | 題目 | 填寫引導 | 對應需求 |
|-----|---------|------|---------|---------|
| **第一層** | climbing_start_year | 哪一年開始攀岩 | 選擇年份 | 基本資訊 |
| | frequent_locations | 平常出沒的地方 | 可填多個，用逗號分隔 | 地理連結 |
| | favorite_route_type | 喜歡的路線型態 | 抱石/先鋒/速度/傳攀 | 找同好 |
| **第二層** | climbing_origin | 你與攀岩的相遇 | 描述第一次接觸攀岩的情景 | 起源故事 |
| | climbing_meaning | 攀岩對你來說是什麼 | 攀岩在你生活中扮演什麼角色 | 意義探索 |
| | advice_to_self | 給剛開始攀岩的自己 | 如果能回到起點，你會對自己說什麼 | 傳承智慧 |
| **第三層** | **A. 成長與突破（6題）** | | | |
| | memorable_moment | 最難忘的攀登經歷 | 可以是某個瞬間或一次完整的攀登，聚焦在最觸動你的部分 | 成長故事 |
| | biggest_challenge | 遇到的最大挑戰與如何面對 | 描述具體的挑戰（受傷、瓶頸、恐懼等）和你的應對方式 | 鼓勵低潮者 |
| | breakthrough_story | 最大的突破經歷 | 難度突破、心理突破、技術突破等 | 分享方法 |
| | first_outdoor | 第一次戶外攀岩的經歷 | 第一次從室內走到戶外的經驗、感受與收穫 | 新手參考 |
| | first_grade | 第一次完攀某個難度的感覺 | 選一個對你有意義的難度（如 5.11a, V4），分享過程 | 激勵他人 |
| | frustrating_climb | 最挫折的一次攀登經歷 | 失敗、放棄、或特別困難的經歷，以及如何面對 | 真實分享 |
| | **B. 心理與哲學（6題）** | | | |
| | fear_management | 如何克服攀岩中的恐懼 | 分享你克服墜落、高度、失敗等恐懼的具體方法 | 實用經驗 |
| | climbing_lesson | 攀岩教會你最重要的一件事 | 可以是關於失敗、堅持、專注、信任等的領悟 | 哲學反思 |
| | failure_perspective | 攀岩如何改變你看待失敗 | 攀岩經驗如何影響你面對失敗的態度 | 心態轉變 |
| | flow_moment | 在岩壁上的心流時刻 | 描述一次完全專注、忘我的攀爬體驗 | 心理狀態 |
| | life_balance | 攀岩與生活的平衡 | 如何在工作、家庭、攀岩之間取得平衡 | 生活整合 |
| | unexpected_gain | 攀岩帶給你的意外收穫 | 原本沒預期到，但因攀岩而獲得的好處 | 啟發思考 |
| | **C. 社群與連結（6題）** | | | |
| | climbing_mentor | 攀岩路上的貴人 | 教練、岩友、家人，或甚至是某個影片中的攀岩者 | 社群連結 |
| | climbing_partner | 最喜歡的攀岩夥伴與故事 | 分享一個特別的岩友以及你們之間的故事 | 岩友情誼 |
| | funny_moment | 攀岩時最尷尬或搞笑的時刻 | 輕鬆有趣的經歷，讓大家笑一笑 | 趣味分享 |
| | favorite_spot | 最推薦的攀岩地點與原因 | 室內或戶外皆可，說明為何推薦 | **對應需求** |
| | advice_to_group | 想對某個族群說的話 | 給女生/新手/年長者/小孩等特定族群的建議 | 經驗傳承 |
| | climbing_space | 最難忘的岩館或攀岩空間 | 對你有特殊意義的攀岩場所 | 地點情感 |
| | **D. 實用分享（6題）** | | | |
| | injury_recovery | 一次受傷經歷與從中學到的事 | 描述一次具體的受傷經歷、復原過程，以及這次經驗帶給你的收穫與啟發 | **對應需求** |
| | memorable_route | 最想分享的一次攀登經驗 | 可以是某條路線、某次戶外攀登，分享過程、技巧、心得 | **對應需求** |
| | training_method | 你的訓練方式與心得 | 分享你的訓練內容、頻率、心得 | 訓練參考 |
| | effective_practice | 對你最有效的練習方法 | 某個特別有效的練習，幫助你進步 | 實用技巧 |
| | technique_tip | 一個對你很有幫助的技巧 | 某個技巧的領悟或訣竅（如腳法、重心等） | 技術分享 |
| | gear_choice | 攀岩裝備的選擇心得 | 鞋子、粉袋、確保器等裝備的選擇經驗 | 裝備建議 |
| | **E. 夢想與探索（6題）** | | | |
| | dream_climb | 夢想中的攀登 | 國內外皆可，說明這個地點或路線為何吸引你 | 夢想激勵 |
| | climbing_trip | 一次特別的攀岩旅行 | 國內外攀岩旅行的經歷與收穫 | 旅行分享 |
| | bucket_list_story | 完成人生清單中某個目標的故事 | 詳細描述完成過程（與人生清單完成故事可互補） | 成就分享 |
| | climbing_goal | 目前最想達成的攀岩目標 | 現在正在努力的目標與進度 | 動態更新 |
| | climbing_style | 最吸引你的攀岩風格 | 抱石/先鋒/裂隙/屋簷等，為何吸引你 | 風格偏好 |
| | climbing_inspiration | 啟發你的攀岩者或影片 | 某個攀岩者、影片、書籍對你的啟發 | 靈感來源 |
| | **F. 生活整合（1題）** | | | |
| | life_outside_climbing | 除了攀岩，還讓我著迷的事 | 其他讓你投入熱情的興趣或活動 | 完整的人 |

---

## 每次登入推題機制

### 設計理念

**「慢慢累積，持續成長」**

不要求用戶一次填完30題，而是透過每次登入推薦1題的方式，讓人物誌成為持續更新的「活文件」。

### 推題策略

#### 1. 基礎推薦邏輯

```typescript
interface StoryPrompt {
  id: string
  biography_id: string
  field_name: string              // 欄位名稱
  category: string                // A/B/C/D/E/F 分類
  prompted_at: string             // 推題時間
  completed_at: string | null     // 完成時間
  dismissed_count: number         // 跳過次數
  last_dismissed_at: string | null
}

// 推題邏輯
function getNextPrompt(biography: Biography): StoryPrompt | null {
  // 1. 取得未填寫的欄位
  const unfilledFields = getUnfilledAdvancedFields(biography)

  if (unfilledFields.length === 0) return null

  // 2. 過濾掉最近7天內推過的
  const recentPrompts = getRecentPrompts(biography.id, days: 7)
  const availableFields = unfilledFields.filter(
    f => !recentPrompts.includes(f)
  )

  if (availableFields.length === 0) {
    // 全部推過了，重置冷卻期
    return pickFromAll(unfilledFields)
  }

  // 3. 優先推薦被跳過次數較少的
  const sortedByDismissed = availableFields.sort(
    (a, b) => a.dismissed_count - b.dismissed_count
  )

  // 4. 根據策略選擇
  return selectByStrategy(sortedByDismissed)
}
```

#### 2. 推薦策略（可切換）

| 策略 | 說明 | 適用情境 |
|-----|------|---------|
| **隨機推薦** | 從可用題目中隨機選 | 預設策略，保持新鮮感 |
| **分類輪替** | A→B→C→D→E→F 依序推 | 讓內容均衡發展 |
| **由淺入深** | 先推簡單的（如搞笑時刻），再推深度的（如心流） | 降低初期門檻 |
| **熱門優先** | 優先推大家最常填的題目 | 社群驅動 |
| **季節性** | 夏天推戶外、冬天推訓練 | 時事相關 |
| **完成度優先** | 優先完成某個分類 | 成就感驅動 |

#### 3. 推題UI設計

```
┌─────────────────────────────────────────────────────────────┐
│  歡迎回來，謝璿！                                      [X]  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  <MessageCircle /> 今天想聊聊這個嗎？                      │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ <Smile /> 攀岩時最尷尬或搞笑的時刻                  │   │
│  │                                                     │   │
│  │ 輕鬆有趣的經歷，讓大家笑一笑                       │   │
│  │                                                     │   │
│  │ ┌──────────────────────────────────────────────┐  │   │
│  │ │                                              │  │   │
│  │ │  [在這裡寫下你的故事...]                     │  │   │
│  │ │                                              │  │   │
│  │ │                                              │  │   │
│  │ └──────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  <Info /> 這是「社群與連結」類別的第 2/6 題                │
│  <BarChart /> 你已完成 8/31 個故事（26%）                  │
│                                                             │
│  [下次再說]                    [儲存]                      │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ <Users /> 其他人分享的搞笑時刻：                    │   │
│  │ • "第一次戶外攀岩，忘記帶快扣..."                  │   │
│  │ • "掛點時粉袋打開，像下雪一樣..."                  │   │
│  │                         <Sparkles /> [看更多啟發]   │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

#### 4. 跳過機制

- **首次跳過**：正常，下次可再推
- **連續跳過3次**：降低推薦優先度
- **跳過超過5次**：標記為「不想填」，之後不再推
- **用戶主動點「我想填這題」**：可重新啟動已跳過的題目

#### 5. 推題頻率控制

```typescript
// 推題頻率設定
const PROMPT_CONFIG = {
  minDaysBetweenPrompts: 1,      // 最少間隔1天
  maxPromptsPerWeek: 3,          // 每週最多推3次
  cooldownAfterDismiss: 7,       // 跳過後7天內不再推同一題
  showPromptOnEveryLogin: false  // 不是每次登入都推（避免打擾）
}

// 決定是否要推題
function shouldShowPrompt(user: User): boolean {
  const lastPrompt = getLastPrompt(user.id)

  // 距離上次推題至少1天
  if (daysSince(lastPrompt) < PROMPT_CONFIG.minDaysBetweenPrompts) {
    return false
  }

  // 本週已推3次
  const promptsThisWeek = getPromptsThisWeek(user.id)
  if (promptsThisWeek >= PROMPT_CONFIG.maxPromptsPerWeek) {
    return false
  }

  // 隨機：50%機率推題（避免太頻繁）
  return Math.random() > 0.5
}
```

### 進度視覺化

```
┌─────────────────────────────────────────────────────────────┐
│  我的故事進度                                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  整體進度：8/31 題（26%）                                   │
│  ████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░                      │
│                                                             │
│  ┌─ 分類進度 ────────────────────────────────────────┐     │
│  │                                                    │     │
│  │ A. 成長與突破        2/6  ████░░                  │     │
│  │ B. 心理與哲學        1/6  ██░░░                   │     │
│  │ C. 社群與連結        2/6  ████░                   │     │
│  │ D. 實用分享          2/6  ████░                   │     │
│  │ E. 夢想與探索        1/6  ██░░░                   │     │
│  │ F. 生活整合          0/1  ░░░░░                   │     │
│  │                                                    │     │
│  └────────────────────────────────────────────────────┘     │
│                                                             │
│  🏆 已解鎖徽章                                              │
│  ┌──────────┐ ┌──────────┐                                │
│  │ <Sprout> │ │ <Edit3>  │                                │
│  │ 故事新芽 │ │ 分享者   │                                │
│  └──────────┘ └──────────┘                                │
│                                                             │
│  下一個徽章：完成 10 個故事解鎖「故事達人」<Star />        │
│                                                             │
│                                      [繼續填寫故事]         │
└─────────────────────────────────────────────────────────────┘
```

### 遊戲化元素

#### 成就系統

```typescript
import {
  Sprout,      // 幼苗
  Edit3,       // 編輯筆
  Star,        // 星星
  BookOpen,    // 打開的書
  Award,       // 獎盃
  Flame,       // 火焰
  Gem          // 寶石
} from 'lucide-react'
```

| 成就 | 圖標 | 條件 | 獎勵 |
|-----|------|-----|------|
| 故事新芽 | `<Sprout />` | 完成第1個故事 | 解鎖 |
| 分享者 | `<Edit3 />` | 完成第5個故事 | 徽章 |
| 故事達人 | `<Star />` | 完成第10個故事 | 徽章 + 人物誌加權推薦 |
| 故事收藏家 | `<BookOpen />` | 完成第20個故事 | 徽章 + 特殊框架 |
| 完美主義 | `<Award />` (金色) | 完成全部31個故事 | 金色徽章 + 首頁精選 |
| 連續創作 | `<Flame />` | 連續7天填寫故事 | 火焰徽章 |
| 分類大師 | `<Gem />` | 完成某個分類的所有題目 | 分類專屬徽章 |

#### 連續填寫獎勵

```
連續填寫天數：<Flame /> 7 天

┌────┬────┬────┬────┬────┬────┬────┐
│ 一 │ 二 │ 三 │ 四 │ 五 │ 六 │ 日 │
├────┼────┼────┼────┼────┼────┼────┤
│ ✓  │ ✓  │ ✓  │ ✓  │ ✓  │ ✓  │ ✓  │
└────┴────┴────┴────┴────┴────┴────┘

連續7天！獲得「堅持者」徽章 <Trophy />
```

**徽章UI組件範例**

```tsx
import { Flame, Trophy, Sprout, Edit3, Star, BookOpen, Award, Gem } from 'lucide-react'

interface BadgeProps {
  icon: React.ComponentType<{ className?: string }>
  title: string
  color: string
  unlocked: boolean
}

export function Badge({ icon: Icon, title, color, unlocked }: BadgeProps) {
  return (
    <div className={`badge ${unlocked ? 'unlocked' : 'locked'}`}>
      <div className={`badge-icon ${color}`}>
        <Icon className="w-6 h-6" />
      </div>
      <div className="badge-title">{title}</div>
    </div>
  )
}

// 使用範例
<Badge
  icon={Sprout}
  title="故事新芽"
  color="green"
  unlocked={true}
/>
```

---

## 填寫流程設計

### 新用戶填寫流程

```
┌─────────────────────────────────────────────────────────────┐
│  步驟 1：基本資訊                                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                             │
│  設定你的人物誌                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 上傳頭像                                            │   │
│  │ ┌───────┐                                           │   │
│  │ │ 📷    │  點擊上傳照片                             │   │
│  │ └───────┘                                           │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  你的暱稱                                                   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 謝璿                                                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  哪一年開始攀岩                                             │
│  ┌──────────────┐                                          │
│  │ 2022 ▼       │                                          │
│  └──────────────┘                                          │
│                                                             │
│  平常出沒的地方（可填多個，用逗號分隔）                     │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 原岩, Dapro, 龍洞                                   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  喜歡的路線型態（可複選）                                   │
│  ☑ 抱石    ☑ 先鋒    ☐ 速度    ☐ 傳攀                    │
│                                                             │
│                              [跳過，稍後再填]  [下一步]     │
└─────────────────────────────────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  步驟 2：你的攀岩故事                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                             │
│  這部分會讓你的人物誌更有溫度，幫助更多人！                 │
│                                                             │
│  你與攀岩的相遇                                             │
│  描述第一次接觸攀岩的情景，是什麼讓你想繼續？               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 2022 年的秋天，朋友帶我去岩館，看到別人在牆上飛     │   │
│  │ 簷走壁，覺得超酷！第一次嘗試就愛上了那種專注在     │   │
│  │ 每一個動作的感覺...                                 │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  攀岩對你來說是什麼                                         │
│  攀岩在你生活中扮演什麼角色？帶給你什麼？                   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 攀岩是我最好的減壓方式，在牆上的時候可以完全忘     │   │
│  │ 記工作的煩惱，也認識了一群很棒的岩友...             │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  給剛開始攀岩的自己                                         │
│  如果能回到起點，你會對自己說什麼？                         │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 不要急著提升難度，好好享受每一次攀爬的過程，受     │   │
│  │ 傷了就好好休息，身體會陪你爬更久...                 │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│                      [跳過，稍後再填]  [下一步]             │
└─────────────────────────────────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  步驟 3：人生清單                                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                             │
│  在攀岩世界裡，你想完成的目標有什麼？                       │
│                                                             │
│  快速新增（適合剛開始）                                     │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 目標 1：┌──────────────────────────────────────┐    │   │
│  │         │ 完攀龍洞校門口                         │    │   │
│  │         └──────────────────────────────────────┘    │   │
│  │ 目標 2：┌──────────────────────────────────────┐    │   │
│  │         │ 抱石 V6                                │    │   │
│  │         └──────────────────────────────────────┘    │   │
│  │ 目標 3：┌──────────────────────────────────────┐    │   │
│  │         │ 第一次戶外傳攀                         │    │   │
│  │         └──────────────────────────────────────┘    │   │
│  │                                        [+ 新增一個]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  💡 之後可以隨時回來詳細編輯每個目標                        │
│                                                             │
│                     [跳過]  [完成並發布人物誌]              │
└─────────────────────────────────────────────────────────────┘
```

### 既有用戶編輯流程

```
┌─────────────────────────────────────────────────────────────┐
│  我的人物誌                                    [編輯模式]   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─ 基本資訊 ────┐                                         │
│  │ ✓ 已完成      │  [編輯]                                 │
│  └───────────────┘                                         │
│                                                             │
│  ┌─ 核心故事 ────┐                                         │
│  │ ✓ 已完成      │  [編輯]                                 │
│  └───────────────┘                                         │
│                                                             │
│  ┌─ 人生清單 ────────────────────────────────────────┐     │
│  │ 5 個目標（2 個進行中，3 個已完成）    [管理清單]  │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  ┌─ 進階故事 ────────────────────────────────────────┐     │
│  │ 已填寫 3/10 個故事                                 │     │
│  │                                                    │     │
│  │ ✓ 最難忘的攀登經歷                        [編輯]  │     │
│  │ ✓ 攀岩教會你最重要的一件事                [編輯]  │     │
│  │ ✓ 一次受傷經歷與從中學到的事              [編輯]  │     │
│  │                                                    │     │
│  │ 建議新增：                                         │     │
│  │ ○ 遇到的最大挑戰與如何面對                [填寫]  │     │
│  │ ○ 如何克服攀岩中的恐懼                    [填寫]  │     │
│  │ ○ 攀岩路上的貴人                          [填寫]  │     │
│  │                                                    │     │
│  │                            [查看所有可填寫項目]    │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  ┌─ 攀岩足跡 ────────────────────────────────────────┐     │
│  │ 去過 3 個地方                         [新增地點]  │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  ┌─ 媒體整合 ────────────────────────────────────────┐     │
│  │ YouTube: 2 部影片                    [管理影片]  │     │
│  │ Instagram: 5 則貼文                  [管理貼文]  │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 呈現設計

### 人物誌詳情頁完整結構

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│              [封面圖片 - 16:9 比例]                         │
│                                                             │
│  ┌───────┐                                                  │
│  │ 頭像  │  謝璿                         [追蹤] [分享]     │
│  └───────┘  攀岩 4 年 · 台北                               │
│              ❤ 45 讚  👁 234 瀏覽  👤 12 追蹤者           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ═══ 快速資訊 ═══════════════════════════════════════════   │
│                                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐      │
│  │ 2022 開始│ │ 原岩      │ │ 抱石     │ │ 龍洞     │      │
│  │ 攀岩     │ │ Dapro    │ │ 先鋒     │ │ 熱海     │      │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘      │
│                                                             │
│  ═══ 社群連結 ═══════════════════════════════════════════   │
│                                                             │
│  [📷 @hsuanhsuan] [🎬 @hsuanclimbs] [🌐 網站]              │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 核心故事 ═══════════════════════════════════════════   │
│                                                             │
│  📖 你與攀岩的相遇                                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                             │
│  2022 年的秋天，朋友帶我去岩館，看到別人在牆上飛簷走       │
│  壁，覺得超酷！第一次嘗試就愛上了那種專注在每一個動作       │
│  的感覺。雖然第一天手臂痠到不行，但隔週還是忍不住又去       │
│  了...                                                      │
│                                                             │
│  💭 攀岩對你來說是什麼                                     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                             │
│  攀岩是我最好的減壓方式，在牆上的時候可以完全忘記工作的     │
│  煩惱。這幾年透過攀岩認識了一群很棒的岩友，週末一起去戶     │
│  外，分享路線心得，甚至一起規劃出國攀岩...                  │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 精選影片 ═══════════════════════════════════════════   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │              [YouTube 嵌入播放器]                   │   │
│  │                   16:9 比例                         │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│  龍洞攀岩初體驗 - 第一次戶外先鋒                           │
│  我的頻道 · 1,234 觀看 · 2025-12-01                        │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 人生清單 ═══════════════════════════════════════════   │
│                                        [查看統計]           │
│                                                             │
│  ┌─ 進行中 (2) ─────────────────────────────────────┐     │
│  │                                                    │     │
│  │ ○ 完攀龍洞校門口 5.12a              [戶外路線]    │     │
│  │   目標：2026 年 6 月                               │     │
│  │   ████████░░░░░░░░░░░░ 40%                        │     │
│  │   「目前卡在第二段的 crux，需要加強指力...」      │     │
│  │   <Heart /> 12  <MessageCircle /> 3               │     │
│  │                                                    │     │
│  │ ○ 抱石 V6                           [室內難度]    │     │
│  │   無期限                                           │     │
│  │   ████████████░░░░░░░░ 60%                        │     │
│  │   ❤ 8                                             │     │
│  │                                                    │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  ┌─ 已完成 (3) ─────────────────────────────────────┐     │
│  │                                                    │     │
│  │ ✓ 完攀熱海 5.10c                    [戶外路線]    │     │
│  │   完成於 2025 年 8 月 15 日                        │     │
│  │                                                    │     │
│  │   📖 完成故事                                      │     │
│  │   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │     │
│  │   「終於在這個週末完成了這條期待已久的路線！       │     │
│  │   花了整整三個月準備，前兩次都失敗，這次終於       │     │
│  │   完攀了...」                                      │     │
│  │                                                    │     │
│  │   💭 心理層面                                      │     │
│  │   前兩次失敗讓我很沮喪，但教練說這是正常的，       │     │
│  │   重要的是從每次嘗試中學習。這次成功後真的覺       │     │
│  │   得很感動，原來堅持真的有用...                    │     │
│  │                                                    │     │
│  │   🧗 技術層面                                      │     │
│  │   這條路線的 crux 在第三段，需要用側拉配合高       │     │
│  │   舉腳，放保護點要特別注意...                      │     │
│  │                                                    │     │
│  │   ┌──────────┐ ┌──────────┐ ┌──────────┐          │     │
│  │   │ 📷       │ │ 📷       │ │ 🎬 YT    │          │     │
│  │   │ 完攀照   │ │ 路線照   │ │ 影片     │          │     │
│  │   └──────────┘ └──────────┘ └──────────┘          │     │
│  │                                                    │     │
│  │   <Heart /> 23  <MessageCircle /> 5  <Link /> 8 人也加入了這個目標  │     │
│  │                                                    │     │
│  │   留言：                                           │     │
│  │   ┌─────────────────────────────────────────┐      │     │
│  │   │ [頭像] 小若: 恭喜！這條我也在練，可以       │      │     │
│  │   │              請教一下第三段的動作嗎？       │      │     │
│  │   │              2 小時前                        │      │     │
│  │   └─────────────────────────────────────────┘      │     │
│  │   ┌─────────────────────────────────────────┐      │     │
│  │   │ [頭像] 謝璿: @小若 可以！下次一起去我       │      │     │
│  │   │              示範給妳看                      │      │     │
│  │   │              1 小時前                        │      │     │
│  │   └─────────────────────────────────────────┘      │     │
│  │                                                    │     │
│  │ [展開完整故事]                                     │     │
│  │                                                    │     │
│  │ ✓ 第一次戶外攀岩                    [冒險挑戰]    │     │
│  │   完成於 2024 年 5 月 20 日                        │     │
│  │   <Heart /> 15  <MessageCircle /> 2               │     │
│  │                                                    │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  💡 [+ 加入我的清單] - 將喜歡的目標加到你的清單             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 更多故事 ═══════════════════════════════════════════   │
│                                                             │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────┐  │
│  │ <BookOpen />    │ │ <TrendingUp />  │ │ <Share2 />  │  │
│  │ 最難忘的攀登    │ │ 最大的突破      │ │ 最想分享    │  │
│  │ 經歷            │ │ 經歷            │ │ 的攀登      │  │
│  │ 「2024 年夏天  │ │ 「從 5.10 到   │ │ 「龍洞校門  │  │
│  │  在龍洞...」   │ │  5.11 的突破」 │ │  口的...」  │  │
│  │                 │ │                 │ │             │  │
│  │ <Heart /> 23    │ │ <Heart /> 18    │ │ <Heart /> 31│  │
│  │ <Eye /> 120     │ │ <Eye /> 98      │ │ <Eye /> 156 │  │
│  │ [閱讀故事]      │ │ [閱讀故事]      │ │ [閱讀故事]  │  │
│  └─────────────────┘ └─────────────────┘ └─────────────┘  │
│                                                             │
│                                       [查看所有故事 (3/10)] │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 攀岩足跡 ═══════════════════════════════════════════   │
│                                        [地圖檢視]           │
│                                                             │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ 🇹🇼 龍洞      │ │ 🇹🇼 熱海      │ │ 🇹🇭 Krabi    │       │
│  │ 2023-2025   │ │ 2024-2025   │ │ 2024        │       │
│  │ 去了 12 次   │ │ 去了 5 次    │ │ 去了 1 次    │       │
│  │ [查看心得]   │ │ [查看心得]   │ │ [查看心得]   │       │
│  └──────────────┘ └──────────────┘ └──────────────┘       │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 更多影片 ═══════════════════════════════════════════   │
│                                        [查看全部]           │
│                                                             │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ [縮圖]       │ │ [縮圖]       │ │ [縮圖]       │       │
│  │ ▶ 3:45      │ │ ▶ 12:30     │ │ ▶ 5:20      │       │
│  ├──────────────┤ ├──────────────┤ ├──────────────┤       │
│  │ 龍洞校門口   │ │ 抱石訓練     │ │ 岩友日常     │       │
│  │ 練習         │ │ 日誌         │ │              │       │
│  │ 👁 1.2K     │ │ 👁 856      │ │ 👁 432      │       │
│  └──────────────┘ └──────────────┘ └──────────────┘       │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ Instagram ═══════════════════════════════════════════  │
│                            [@hsuanhsuan] [追蹤]            │
│                                                             │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐             │
│  │            │ │            │ │            │             │
│  │ [IG 貼文]  │ │ [IG Reel]  │ │ [IG 貼文]  │             │
│  │            │ │  🎬        │ │            │             │
│  │            │ │            │ │            │             │
│  └────────────┘ └────────────┘ └────────────┘             │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐             │
│  │            │ │            │ │            │             │
│  │ [IG 貼文]  │ │ [IG 貼文]  │ │ [IG 貼文]  │             │
│  │            │ │            │ │            │             │
│  │            │ │            │ │            │             │
│  └────────────┘ └────────────┘ └────────────┘             │
│                                                             │
│                        [在 Instagram 上查看更多]            │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ═══ 給剛開始攀岩的你 ═══════════════════════════════════   │
│                                                             │
│  💬 「不要急著提升難度，好好享受每一次攀爬的過程，受傷     │
│      了就好好休息，身體會陪你爬更久。還有，多認識岩友，     │
│      他們會是你攀岩路上最寶貴的資產。」                     │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│              [← 上一位攀岩者]  [下一位攀岩者 →]            │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 探索頁面設計

```
┌─────────────────────────────────────────────────────────────┐
│  探索攀岩故事                            🔍 [搜尋]           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─ 篩選 ─────────────────────────────────────────────┐    │
│  │ [全部] [成長故事] [攀登經驗] [受傷復原] [攀岩足跡] │    │
│  └────────────────────────────────────────────────────┘    │
│                                                             │
│  ═══════════════════════════════════════════════════════   │
│  🔥 本週熱門目標                                           │
│  ═══════════════════════════════════════════════════════   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 1. 完攀龍洞校門口 5.12a                    [戶外]   │   │
│  │    被 45 人加入清單 · 12 人已完成                   │   │
│  │    最新完成：謝璿、小若、阿凱                       │   │
│  │    「這條路線的 crux 在第二段，需要...」           │   │
│  │                                   [+ 加入我的清單]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 2. 抱石 V6                                 [室內]   │   │
│  │    被 38 人加入清單 · 8 人已完成                    │   │
│  │    最新完成：宜真、阿偉                             │   │
│  │                                   [+ 加入我的清單]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ═══════════════════════════════════════════════════════   │
│  ✨ 最新完成故事                                           │
│  ═══════════════════════════════════════════════════════   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [頭像] 謝璿 完成了「完攀熱海 5.10c」                │   │
│  │        戶外路線 · 2 小時前                          │   │
│  │ ┌─────────────────────────────────────────────┐     │   │
│  │ │ [完成照片 - 3張圖片 carousel]                │     │   │
│  │ └─────────────────────────────────────────────┘     │   │
│  │                                                      │   │
│  │ 💭 心理層面                                          │   │
│  │ 「終於在這個週末完成了這條期待已久的路線！花了三     │   │
│  │  個月準備，前兩次都失敗，這次終於完攀了...」         │   │
│  │                                                      │   │
│  │ 🧗 技術層面                                          │   │
│  │ 「這條路線的 crux 在第三段，需要用側拉配合高舉腳    │   │
│  │  ，放保護點要特別注意...」                          │   │
│  │                                                      │   │
│  │ <Heart /> 23  <MessageCircle /> 5  <Link /> 8 人也加入  [查看完整故事]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [頭像] 小若 分享了「受傷與復原的故事」              │   │
│  │        受傷經驗 · 5 小時前                          │   │
│  │                                                      │   │
│  │ 「去年手指受傷後休息了三個月，一開始很焦慮，怕再也   │   │
│  │  爬不回原本的程度。但復健過程中學會了很多...」       │   │
│  │                                                      │   │
│  │ <Heart /> 31  <MessageCircle /> 8  [查看完整故事]   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ═══════════════════════════════════════════════════════   │
│  📍 依地點探索                                             │
│  ═══════════════════════════════════════════════════════   │
│                                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐      │
│  │  龍洞    │ │  熱海    │ │  關子嶺  │ │  更多... │      │
│  │  45 人   │ │  32 人   │ │  28 人   │ │          │      │
│  │  去過    │ │  去過    │ │  去過    │ │          │      │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘      │
│                                                             │
│  ═══════════════════════════════════════════════════════   │
│  🌍 海外攀岩足跡                                           │
│  ═══════════════════════════════════════════════════════   │
│                                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐      │
│  │ 🇹🇭 Krabi │ │ 🇻🇳 Cat Ba│ │ 🇨🇳 陽朔  │ │ 🇪🇸 西班牙│      │
│  │  12 人   │ │  8 人    │ │  15 人   │ │  5 人    │      │
│  │  去過    │ │  去過    │ │  去過    │ │  去過    │      │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘      │
│                                                             │
│  ═══════════════════════════════════════════════════════   │
│  💡 技巧與經驗分享                                         │
│  ═══════════════════════════════════════════════════════   │
│                                                             │
│  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐ │
│  │ 克服恐懼經驗   │ │ 受傷復原故事   │ │ 攀登經驗分享   │ │
│  │ 23 篇故事      │ │ 15 篇故事      │ │ 34 篇故事      │ │
│  │ [探索]         │ │ [探索]         │ │ [探索]         │ │
│  └────────────────┘ └────────────────┘ └────────────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 社群互動機制

### 1. 按讚與留言

```typescript
// 可以按讚的對象
- 完成的目標故事
- 進階故事卡片
- 攀岩足跡

// 可以留言的對象
- 完成的目標故事
- 進階故事卡片
```

### 2. 參考清單（「我也想做」）

```
┌─────────────────────────────────────────────────────────────┐
│  你想將這個目標加入你的清單嗎？                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📌 完攀龍洞校門口 5.12a                                   │
│     戶外路線 · 原始作者：謝璿                               │
│                                                             │
│  這個目標將會：                                             │
│  ✓ 加到你的人生清單中                                       │
│  ✓ 你可以追蹤自己的進度                                     │
│  ✓ 原作者會收到通知（他的目標啟發了你！）                   │
│  ✓ 你可以查看所有也在挑戰這個目標的人                       │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 💡 提示：你也可以修改標題和細節，讓它更符合你的需求 │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│                              [取消]  [加入我的清單]         │
└─────────────────────────────────────────────────────────────┘
```

### 3. 追蹤機制

```
用戶可以追蹤其他攀岩者，會收到：
- 對方完成目標的通知
- 對方新增故事的通知
- 對方的週報摘要
```

### 4. 通知系統

| 通知類型 | 觸發條件 | 通知內容 |
|---------|---------|---------|
| 目標被參考 | 有人將你的目標加入清單 | 「小若 將你的目標『完攀龍洞校門口』加入了清單」 |
| 故事被讚 | 有人按讚你的故事 | 「謝璿 喜歡你的故事『最難忘的一天』」 |
| 收到留言 | 有人留言在你的目標下 | 「阿凱 在『完攀熱海』留言：『恭喜！請問...』」 |
| 相似目標完成 | 追蹤的人完成了與你相似的目標 | 「你追蹤的 謝璿 完成了『完攀龍洞校門口』，快去看看！」 |
| 新追蹤者 | 有人追蹤你 | 「宜真 開始追蹤你了」 |
| 週報 | 每週統計 | 「本週有 5 人完成目標，3 個新故事，熱門目標是...」 |

### 5. 徽章系統

```typescript
import {
  Sprout,        // 幼苗
  Edit3,         // 筆
  Sparkles,      // 閃光
  Flame,         // 火焰
  Target,        // 目標
  Award,         // 獎盃
  Dumbbell,      // 啞鈴/力量
  Heart,         // 愛心
  MessageCircle, // 對話
  Eye,           // 眼睛
  Globe,         // 地球
  Plane          // 飛機
} from 'lucide-react'

interface Badge {
  id: string
  name: string
  description: string
  icon: React.ComponentType<{ className?: string }>
  color: string  // Tailwind color class
  requirement: string
}

const BADGES: Record<string, Badge> = {
  // 故事分享
  story_beginner: {
    name: '故事新芽',
    description: '完成第一篇故事',
    icon: Sprout,
    color: 'text-green-500',
    requirement: 'complete_first_story'
  },
  story_writer: {
    name: '故事達人',
    description: '完成 5 個進階故事',
    icon: Edit3,
    color: 'text-blue-500',
    requirement: 'complete_5_stories'
  },
  inspirator: {
    name: '啟發者',
    description: '故事被 10 人標記「受到鼓勵」',
    icon: Sparkles,
    color: 'text-purple-500',
    requirement: 'story_encouraged_10_times'
  },
  trending: {
    name: '熱門故事',
    description: '單篇故事獲得 50 讚',
    icon: Flame,
    color: 'text-orange-500',
    requirement: 'story_50_likes'
  },

  // 目標追蹤
  goal_setter: {
    name: '目標設定者',
    description: '設定第一個目標',
    icon: Target,
    color: 'text-red-500',
    requirement: 'create_first_goal'
  },
  achiever: {
    name: '成就達成',
    description: '完成第一個目標',
    icon: Award,
    color: 'text-yellow-500',
    requirement: 'complete_first_goal'
  },
  consistent: {
    name: '堅持者',
    description: '連續完成 3 個目標',
    icon: Dumbbell,
    color: 'text-indigo-500',
    requirement: 'complete_3_goals_consecutively'
  },

  // 社群互動
  supportive: {
    name: '鼓勵大使',
    description: '給出 50 個讚',
    icon: Heart,
    color: 'text-pink-500',
    requirement: 'give_50_likes'
  },
  conversationalist: {
    name: '對話者',
    description: '留言 20 則',
    icon: MessageCircle,
    color: 'text-teal-500',
    requirement: 'post_20_comments'
  },
  explorer: {
    name: '好奇寶寶',
    description: '閱讀 20 篇人物誌',
    icon: Eye,
    color: 'text-cyan-500',
    requirement: 'read_20_biographies'
  },

  // 攀岩足跡
  traveler: {
    name: '攀岩旅行者',
    description: '記錄 5 個攀岩地點',
    icon: Globe,
    color: 'text-emerald-500',
    requirement: 'add_5_locations'
  },
  international: {
    name: '國際攀岩者',
    description: '記錄 3 個海外攀岩地點',
    icon: Plane,
    color: 'text-sky-500',
    requirement: 'add_3_international_locations'
  }
}

// 徽章組件
export function BadgeIcon({ badge, size = 'md' }: { badge: Badge; size?: 'sm' | 'md' | 'lg' }) {
  const Icon = badge.icon
  const sizeClasses = {
    sm: 'w-4 h-4',
    md: 'w-6 h-6',
    lg: 'w-8 h-8'
  }

  return (
    <div className={`badge-icon ${badge.color}`}>
      <Icon className={sizeClasses[size]} />
    </div>
  )
}
```

---

## 技術實作

### 資料庫 Migration

```sql
-- ═══════════════════════════════════════════════════════════
-- Phase 1: 人物誌主表更新
-- ═══════════════════════════════════════════════════════════

-- 新增欄位到 biographies 表（30個進階故事）

-- A. 成長與突破（6題）
ALTER TABLE biographies ADD COLUMN memorable_moment TEXT;
ALTER TABLE biographies ADD COLUMN biggest_challenge TEXT;
ALTER TABLE biographies ADD COLUMN breakthrough_story TEXT;
ALTER TABLE biographies ADD COLUMN first_outdoor TEXT;
ALTER TABLE biographies ADD COLUMN first_grade TEXT;
ALTER TABLE biographies ADD COLUMN frustrating_climb TEXT;

-- B. 心理與哲學（6題）
ALTER TABLE biographies ADD COLUMN fear_management TEXT;
ALTER TABLE biographies ADD COLUMN climbing_lesson TEXT;
ALTER TABLE biographies ADD COLUMN failure_perspective TEXT;
ALTER TABLE biographies ADD COLUMN flow_moment TEXT;
ALTER TABLE biographies ADD COLUMN life_balance TEXT;
ALTER TABLE biographies ADD COLUMN unexpected_gain TEXT;

-- C. 社群與連結（6題）
ALTER TABLE biographies ADD COLUMN climbing_mentor TEXT;
ALTER TABLE biographies ADD COLUMN climbing_partner TEXT;
ALTER TABLE biographies ADD COLUMN funny_moment TEXT;
ALTER TABLE biographies ADD COLUMN favorite_spot TEXT;
ALTER TABLE biographies ADD COLUMN advice_to_group TEXT;
ALTER TABLE biographies ADD COLUMN climbing_space TEXT;

-- D. 實用分享（6題）
ALTER TABLE biographies ADD COLUMN injury_recovery TEXT;
ALTER TABLE biographies ADD COLUMN memorable_route TEXT;
ALTER TABLE biographies ADD COLUMN training_method TEXT;
ALTER TABLE biographies ADD COLUMN effective_practice TEXT;
ALTER TABLE biographies ADD COLUMN technique_tip TEXT;
ALTER TABLE biographies ADD COLUMN gear_choice TEXT;

-- E. 夢想與探索（6題）
ALTER TABLE biographies ADD COLUMN dream_climb TEXT;
ALTER TABLE biographies ADD COLUMN climbing_trip TEXT;
ALTER TABLE biographies ADD COLUMN bucket_list_story TEXT;
ALTER TABLE biographies ADD COLUMN climbing_goal TEXT;
ALTER TABLE biographies ADD COLUMN climbing_style TEXT;
ALTER TABLE biographies ADD COLUMN climbing_inspiration TEXT;

-- F. 生活整合（1題）
ALTER TABLE biographies ADD COLUMN life_outside_climbing TEXT;
ALTER TABLE biographies ADD COLUMN climbing_locations TEXT;  -- JSON
ALTER TABLE biographies ADD COLUMN youtube_channel_id TEXT;
ALTER TABLE biographies ADD COLUMN featured_video_id TEXT;
ALTER TABLE biographies ADD COLUMN total_likes INTEGER DEFAULT 0;
ALTER TABLE biographies ADD COLUMN total_views INTEGER DEFAULT 0;
ALTER TABLE biographies ADD COLUMN follower_count INTEGER DEFAULT 0;

-- 重命名現有欄位
ALTER TABLE biographies RENAME COLUMN climbing_reason TO climbing_origin;
ALTER TABLE biographies RENAME COLUMN advice TO advice_to_self;

-- ═══════════════════════════════════════════════════════════
-- Phase 2: 人生清單表（新建）
-- ═══════════════════════════════════════════════════════════

CREATE TABLE bucket_list_items (
  id TEXT PRIMARY KEY,
  biography_id TEXT NOT NULL,

  -- 基本內容
  title TEXT NOT NULL,
  category TEXT DEFAULT 'other',
  description TEXT,
  target_grade TEXT,
  target_location TEXT,
  target_date TEXT,

  -- 狀態
  status TEXT DEFAULT 'active',  -- active, completed, archived
  completed_at TEXT,

  -- 進度追蹤
  enable_progress INTEGER DEFAULT 0,
  progress_mode TEXT,  -- manual, milestone
  progress INTEGER DEFAULT 0,
  milestones TEXT,  -- JSON

  -- 完成故事
  completion_story TEXT,
  psychological_insights TEXT,
  technical_insights TEXT,
  completion_media TEXT,  -- JSON

  -- 社群
  is_public INTEGER DEFAULT 1,
  likes_count INTEGER DEFAULT 0,
  inspired_count INTEGER DEFAULT 0,
  comments_count INTEGER DEFAULT 0,

  -- 其他
  sort_order INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),
  updated_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (biography_id) REFERENCES biographies(id) ON DELETE CASCADE
);

CREATE INDEX idx_bucket_list_biography ON bucket_list_items(biography_id);
CREATE INDEX idx_bucket_list_status ON bucket_list_items(status);
CREATE INDEX idx_bucket_list_public ON bucket_list_items(is_public);
CREATE INDEX idx_bucket_list_category ON bucket_list_items(category);
CREATE INDEX idx_bucket_list_location ON bucket_list_items(target_location);

-- ═══════════════════════════════════════════════════════════
-- Phase 3: 媒體關聯表
-- ═══════════════════════════════════════════════════════════

CREATE TABLE biography_videos (
  id TEXT PRIMARY KEY,
  biography_id TEXT NOT NULL,
  video_id TEXT NOT NULL,
  relation_type TEXT NOT NULL,
  is_featured INTEGER DEFAULT 0,
  display_order INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (biography_id) REFERENCES biographies(id) ON DELETE CASCADE,
  UNIQUE(biography_id, video_id)
);

CREATE INDEX idx_biography_videos_bio ON biography_videos(biography_id);
CREATE INDEX idx_biography_videos_video ON biography_videos(video_id);

CREATE TABLE biography_instagrams (
  id TEXT PRIMARY KEY,
  biography_id TEXT NOT NULL,
  instagram_url TEXT NOT NULL,
  instagram_shortcode TEXT NOT NULL,
  media_type TEXT,
  thumbnail_url TEXT,
  caption TEXT,
  posted_at TEXT,
  relation_type TEXT NOT NULL,
  is_featured INTEGER DEFAULT 0,
  display_order INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),
  updated_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (biography_id) REFERENCES biographies(id) ON DELETE CASCADE,
  UNIQUE(biography_id, instagram_shortcode)
);

CREATE INDEX idx_biography_ig_bio ON biography_instagrams(biography_id);
CREATE INDEX idx_biography_ig_shortcode ON biography_instagrams(instagram_shortcode);

-- ═══════════════════════════════════════════════════════════
-- Phase 4: 互動表
-- ═══════════════════════════════════════════════════════════

CREATE TABLE bucket_list_likes (
  id TEXT PRIMARY KEY,
  bucket_list_item_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (bucket_list_item_id) REFERENCES bucket_list_items(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE(bucket_list_item_id, user_id)
);

CREATE TABLE bucket_list_comments (
  id TEXT PRIMARY KEY,
  bucket_list_item_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  content TEXT NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (bucket_list_item_id) REFERENCES bucket_list_items(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE bucket_list_references (
  id TEXT PRIMARY KEY,
  source_item_id TEXT NOT NULL,
  target_biography_id TEXT NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (source_item_id) REFERENCES bucket_list_items(id) ON DELETE CASCADE,
  FOREIGN KEY (target_biography_id) REFERENCES biographies(id) ON DELETE CASCADE,
  UNIQUE(source_item_id, target_biography_id)
);

CREATE TABLE follows (
  id TEXT PRIMARY KEY,
  follower_id TEXT NOT NULL,
  following_id TEXT NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (follower_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (following_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE(follower_id, following_id)
);

CREATE INDEX idx_follows_follower ON follows(follower_id);
CREATE INDEX idx_follows_following ON follows(following_id);

CREATE TABLE notifications (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  type TEXT NOT NULL,
  actor_id TEXT,
  target_id TEXT,
  title TEXT NOT NULL,
  message TEXT NOT NULL,
  is_read INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),

  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_notifications_user ON notifications(user_id);
CREATE INDEX idx_notifications_read ON notifications(is_read);
CREATE INDEX idx_notifications_created ON notifications(created_at);
```

### API Routes

```typescript
// ═══════════════════════════════════════════════════════════
// 人物誌 API
// ═══════════════════════════════════════════════════════════

// 基本 CRUD
GET    /api/v1/biographies                      // 列表
GET    /api/v1/biographies/:slug                // 詳情
GET    /api/v1/biographies/me                   // 我的人物誌
PUT    /api/v1/biographies/me                   // 更新
DELETE /api/v1/biographies/me                   // 刪除

// 社群連結
PUT    /api/v1/biographies/me/social-links      // 更新社群連結

// 統計
GET    /api/v1/biographies/:id/stats            // 統計數據
PUT    /api/v1/biographies/:id/view             // 記錄瀏覽

// ═══════════════════════════════════════════════════════════
// 人生清單 API
// ═══════════════════════════════════════════════════════════

// CRUD
GET    /api/v1/biographies/:id/bucket-list      // 取得人物誌的清單
POST   /api/v1/biographies/me/bucket-list       // 新增目標
PUT    /api/v1/biographies/me/bucket-list/:id   // 更新目標
DELETE /api/v1/biographies/me/bucket-list/:id   // 刪除目標

// 完成目標
PUT    /api/v1/biographies/me/bucket-list/:id/complete  // 標記完成

// 進度更新
PUT    /api/v1/biographies/me/bucket-list/:id/progress  // 更新進度
PUT    /api/v1/biographies/me/bucket-list/:id/milestone // 更新里程碑

// 探索
GET    /api/v1/bucket-list/trending             // 熱門目標
GET    /api/v1/bucket-list/recent-completed     // 最新完成
GET    /api/v1/bucket-list/by-location/:loc     // 依地點
GET    /api/v1/bucket-list/by-category/:cat     // 依分類

// ═══════════════════════════════════════════════════════════
// 互動 API
// ═══════════════════════════════════════════════════════════

// 按讚
POST   /api/v1/bucket-list/:id/like             // 按讚
DELETE /api/v1/bucket-list/:id/like             // 取消讚

// 留言
GET    /api/v1/bucket-list/:id/comments         // 取得留言
POST   /api/v1/bucket-list/:id/comments         // 新增留言
DELETE /api/v1/bucket-list/comments/:id         // 刪除留言

// 參考清單
POST   /api/v1/bucket-list/:id/reference        // 加入我的清單
DELETE /api/v1/bucket-list/:id/reference        // 取消參考
GET    /api/v1/bucket-list/:id/references       // 查看誰參考了

// 追蹤
POST   /api/v1/biographies/:id/follow           // 追蹤
DELETE /api/v1/biographies/:id/follow           // 取消追蹤
GET    /api/v1/biographies/:id/followers        // 追蹤者
GET    /api/v1/biographies/:id/following        // 追蹤中

// ═══════════════════════════════════════════════════════════
// 媒體整合 API
// ═══════════════════════════════════════════════════════════

// YouTube
GET    /api/v1/biographies/:id/videos           // 取得影片
POST   /api/v1/biographies/me/videos            // 新增影片關聯
DELETE /api/v1/biographies/me/videos/:id        // 刪除影片關聯

// Instagram
GET    /api/v1/biographies/:id/instagrams       // 取得貼文
POST   /api/v1/biographies/me/instagrams        // 新增貼文關聯
DELETE /api/v1/biographies/me/instagrams/:id    // 刪除貼文關聯

// 資訊抓取
GET    /api/v1/utils/youtube-info?url=xxx       // 抓取 YT 資訊
GET    /api/v1/utils/instagram-info?url=xxx     // 抓取 IG 資訊

// ═══════════════════════════════════════════════════════════
// 通知 API
// ═══════════════════════════════════════════════════════════

GET    /api/v1/notifications                    // 通知列表
PUT    /api/v1/notifications/:id/read           // 標記已讀
PUT    /api/v1/notifications/read-all           // 全部已讀
DELETE /api/v1/notifications/:id                // 刪除通知

// ═══════════════════════════════════════════════════════════
// 攀岩足跡 API
// ═══════════════════════════════════════════════════════════

GET    /api/v1/climbing-locations               // 探索地點
GET    /api/v1/climbing-locations/:name         // 地點詳情（去過的人）
```

---

## 實作優先序

### Phase 1: 基礎架構與資料遷移（2 週）

**目標：** 建立新的資料結構，遷移現有資料

- [ ] 建立資料庫 migration 檔案
- [ ] 更新前後端 TypeScript 類型定義
- [ ] 遷移現有 biographies 資料
- [ ] 將現有 bucket_list 純文字轉為結構化項目
- [ ] 基本 CRUD API 實作

**交付物：**
- Migration 檔案
- 更新的 types.ts
- 資料遷移腳本
- 基本 API endpoints

### Phase 2: 人生清單核心功能（3 週）

**目標：** 實作人生清單的新增、編輯、進度追蹤

- [ ] 人生清單管理 UI（新增、編輯、刪除）
- [ ] 目標完成流程與故事填寫
- [ ] 進度追蹤功能（手動/里程碑）
- [ ] 人生清單呈現頁面

**交付物：**
- 清單管理介面
- 完成目標流程
- 目標詳情頁面

### Phase 3: 核心故事與進階故事（2 週）

**目標：** 實作三層式填寫流程

- [ ] 三階段填寫流程 UI
- [ ] 故事卡片組件
- [ ] 進階故事編輯器
- [ ] 人物誌詳情頁更新

**交付物：**
- 填寫表單
- 故事卡片
- 更新的詳情頁

### Phase 4: 社群互動（3 週）

**目標：** 實作按讚、留言、參考、追蹤

- [ ] 按讚功能
- [ ] 留言系統
- [ ] 參考清單功能
- [ ] 追蹤系統
- [ ] 通知系統

**交付物：**
- 互動功能
- 通知中心
- 追蹤列表

### Phase 5: 探索與推播（2 週）

**目標：** 建立內容探索機制

- [ ] 探索頁面
- [ ] 熱門目標排行
- [ ] 最新完成故事 feed
- [ ] 地點探索
- [ ] 內容推薦演算法

**交付物：**
- 探索頁面
- 推薦系統
- 地點瀏覽

### Phase 6: 媒體整合（2 週）

**目標：** 整合 YouTube 與 Instagram

- [ ] YouTube 影片關聯功能
- [ ] Instagram 貼文關聯功能
- [ ] 精選影片嵌入
- [ ] 媒體資訊抓取 API

**交付物：**
- 媒體管理介面
- 影片/貼文展示
- 資訊抓取功能

### Phase 7: 攀岩足跡（1 週）

**目標：** 實作攀岩地點記錄

- [ ] 攀岩足跡新增/編輯
- [ ] 地點卡片展示
- [ ] 地點探索頁面
- [ ] 地圖整合（選用）

**交付物：**
- 足跡管理
- 地點展示
- 探索頁面

### Phase 8: 統計與徽章（1 週）

**目標：** 數據視覺化與遊戲化

- [ ] 個人統計儀表板
- [ ] 社群統計頁面
- [ ] 徽章系統
- [ ] 進度視覺化

**交付物：**
- 統計頁面
- 徽章系統
- 視覺化圖表

### Phase 9: 優化與測試（1 週）

**目標：** 效能優化與 bug 修復

- [ ] 效能優化
- [ ] 快取策略
- [ ] 測試覆蓋
- [ ] 使用者回饋收集

**交付物：**
- 效能報告
- 測試報告
- Bug 修復

---

## UI 圖標索引（Lucide React）

專案中所有使用的 lucide-react 圖標：

```typescript
import {
  // 徽章系統
  Sprout,        // 故事新芽
  Edit3,         // 故事達人、編輯
  Sparkles,      // 啟發者
  Flame,         // 熱門故事、連續創作
  Target,        // 目標設定者
  Award,         // 成就達成、完美主義
  Trophy,        // 堅持者
  Dumbbell,      // 訓練相關
  Heart,         // 喜歡、鼓勵大使
  MessageCircle, // 留言、對話者
  Eye,           // 瀏覽數、好奇寶寶
  Gem,           // 分類大師
  Globe,         // 攀岩旅行者
  Plane,         // 國際攀岩者

  // 內容類型
  BookOpen,      // 故事、閱讀
  TrendingUp,    // 突破、成長
  Share2,        // 分享
  Link,          // 連結、參考

  // 功能圖標
  Calendar,      // 日期
  MapPin,        // 地點
  Users,         // 社群
  Camera,        // 照片
  Video,         // 影片
  Instagram,     // Instagram
  Youtube,       // YouTube
  Check,         // 完成
  X,             // 關閉
  ChevronRight,  // 箭頭右
  ChevronLeft,   // 箭頭左
  ChevronDown,   // 箭頭下
  Plus,          // 新增
  Minus,         // 移除
  Edit,          // 編輯
  Trash2,        // 刪除
  Settings,      // 設定
  Filter,        // 篩選
  Search,        // 搜尋
  Bell,          // 通知
  Star,          // 精選、收藏
  Info,          // 資訊
  Smile,         // 笑臉、有趣

  // 攀岩相關
  Mountain,      // 戶外
  Home,          // 室內
  Zap,           // 能量、力量
  Activity,      // 進度、統計
  BarChart,      // 圖表
} from 'lucide-react'
```

### 使用範例

```tsx
// 按鈕
<button>
  <Heart className="w-4 h-4 mr-1" />
  喜歡
</button>

// 徽章
<div className="badge">
  <Sprout className="w-6 h-6 text-green-500" />
  <span>故事新芽</span>
</div>

// 統計
<div className="stat">
  <Eye className="w-5 h-5 text-gray-500" />
  <span>234 瀏覽</span>
</div>
```

---

## 附錄

### A. 參考資料

**國際攀岩訪談：**
- [The Mountaineers - 10 Essential Questions](https://www.mountaineers.org/blog/10-essential-questions-yinan-zhao-climb-leader)
- [Lacrux - Athletes Ask Athletes](https://www.lacrux.com/en/klettern/athletes-ask-athletes-an-interview-series-with-professional-climbers/)
- [Questions for Living - Climbing Questions](https://questionsforliving.com/categories/adventures-exploration/questions-bouldering-climbing)

**台灣攀岩報導：**
- [動誌專訪李虹瑩](https://sportz.im/%E3%80%90%E5%8B%95%E8%AA%8C%E5%B0%88%E8%A8%AA%E3%80%91%E6%9C%80%E7%BE%8E%E7%9A%84%E3%80%8C%E6%94%80%E5%B2%A9%E5%A4%A2%E8%A1%8C%E8%80%85%E3%80%8D%E3%80%80%E3%80%80%E6%9D%8E%E8%99%B9%E7%91%A9%E4%B8%8D/)
- [OurTrails - 李虹瑩專訪](https://www.ourtrails.com.tw/people-climbing-lee-hung-ying-ifsc-moscow-2021/)
- [女人迷 - 攀岩人生課](https://womany.net/read/article/4521)

**產品設計參考：**
- Medium - 內容探索
- Strava - 運動社群
- Habitica - 遊戲化任務
- Goodreads - 清單管理

### B. 與現有文件的對應

| 現有文件 | 對應章節 |
|---------|---------|
| demand.md | 核心需求與目標 |
| biography-redesign-spec.md | 完整資料結構、技術實作 |
| biography-content-adjustment.md | 內容架構設計、填寫流程 |
| biography-questions-analysis.md | 題目設計、故事呈現 |
| biography-social-media-integration.md | 媒體整合、API 設計 |

### C. 未來擴展方向

1. **AI 輔助填寫** - 根據用戶輸入自動建議故事題目
2. **語音輸入** - 支援語音記錄故事
3. **影片自動分析** - 自動識別影片中的攀岩難度、地點
4. **社群活動** - 組織線上/線下攀岩活動
5. **攀岩日記** - 每日記錄攀岩訓練
6. **訓練計畫** - 根據目標生成訓練計畫

---

**最後更新：** 2026-01-13
**版本：** 2.0
**狀態：** ✅ 最終規劃完成，待實作
