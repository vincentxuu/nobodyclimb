# Instagram 貼文內容顯示說明

## 🤔 問題：為什麼看不到貼文的詳細內容？

### Instagram 嵌入的限制

當你使用 Instagram iframe 嵌入貼文時，顯示的內容**完全由 Instagram 控制**。

```
┌─────────────────────────────────┐
│   Instagram iframe (受限)        │
├─────────────────────────────────┤
│  ┌──────────────────────────┐   │
│  │  Instagram 提供的內容     │   │
│  │  - 圖片/影片             │   │
│  │  - Instagram 的 UI       │   │
│  │  - 按讚/留言按鈕         │   │
│  └──────────────────────────┘   │
│                                  │
│  我們無法修改這裡的內容          │
└─────────────────────────────────┘
```

## ✅ 解決方案：在 iframe 外顯示貼文資訊

我建立的 `InstagramPostCard` 元件會在 iframe **外面**顯示貼文的詳細資訊：

```
┌─────────────────────────────────────────┐
│  InstagramPostCard 元件                  │
├─────────────────────────────────────────┤
│  👤 使用者資訊                           │
│  @climber_taiwan · 龍洞攀岩場            │
├─────────────────────────────────────────┤
│  ┌─────────────────────────────────┐    │
│  │   Instagram iframe              │    │
│  │   (顯示圖片/影片)                │    │
│  └─────────────────────────────────┘    │
├─────────────────────────────────────────┤
│  ❤️ 234 讚  💬 18 留言                  │
├─────────────────────────────────────────┤
│  📝 貼文內容：                           │
│  龍洞攀岩紀錄 🧗‍♂️                        │
│  今天挑戰了 5.12a 的路線...              │
│  #攀岩 #龍洞 #運動攀登                   │
├─────────────────────────────────────────┤
│  📅 2025年12月1日                        │
└─────────────────────────────────────────┘
```

## 🎯 兩種方案比較

### 方案 A: 純 Instagram iframe（你可能看到的）

```tsx
<InstagramEmbed url="https://www.instagram.com/p/DQ0D25cE4Wa/" />
```

**顯示內容：**
- ✅ Instagram 圖片/影片
- ❌ 沒有額外的文字資訊
- ❌ 沒有統計數據顯示

---

### 方案 B: 完整貼文卡片（推薦使用）✨

```tsx
<InstagramPostCard
  post={{
    url: 'https://www.instagram.com/p/DQ0D25cE4Wa/',
    caption: '龍洞攀岩紀錄 🧗‍♂️',
    username: 'climber_taiwan',
    likesCount: 234,
    commentsCount: 18,
    // ... 更多資訊
  }}
  showEmbed={true}
/>
```

**顯示內容：**
- ✅ Instagram 圖片/影片（iframe）
- ✅ 貼文文字內容（caption）
- ✅ 使用者資訊
- ✅ 統計數據（按讚、留言、觀看）
- ✅ Hashtag 高亮
- ✅ 發布時間
- ✅ 地點資訊

---

## 💡 關鍵理解

### Instagram iframe 的內容

Instagram iframe 裡的內容由 Instagram 決定，通常包含：
- 貼文的圖片或影片
- Instagram 的品牌 logo
- 基本的互動按鈕

**我們無法控制 iframe 裡面顯示什麼。**

### 我們可以控制的

我們可以在 iframe **外面**添加任何資訊：
- ✅ 從資料庫讀取的貼文內容
- ✅ 統計資訊
- ✅ 自訂樣式
- ✅ 額外的功能

## 📊 實際範例對比

### 範例 1: 你目前可能看到的（純 iframe）

```tsx
// 只有 Instagram 嵌入
<InstagramEmbed url="https://www.instagram.com/p/DQ0D25cE4Wa/" />
```

**頁面顯示：**
```
┌─────────────────────┐
│  Instagram iframe   │
│  [圖片顯示]          │
│  View on Instagram  │
└─────────────────────┘
```

---

### 範例 2: 完整貼文卡片（包含內容）

```tsx
// 包含貼文資訊 + Instagram 嵌入
<InstagramPostCard
  post={postData}
  showEmbed={true}
/>
```

**頁面顯示：**
```
┌──────────────────────────────────┐
│ 👤 @climber_taiwan               │
│    📍 龍洞攀岩場                  │
├──────────────────────────────────┤
│  ┌────────────────────────┐      │
│  │  Instagram iframe      │      │
│  │  [圖片/影片顯示]       │      │
│  └────────────────────────┘      │
├──────────────────────────────────┤
│ ❤️ 234  💬 18  👁️ 1.2K          │
├──────────────────────────────────┤
│ climber_taiwan                   │
│ 龍洞攀岩紀錄 🧗‍♂️                 │
│ 今天挑戰了 5.12a 的路線，        │
│ 感覺超棒！天氣完美，岩質優良。    │
│ 推薦給所有喜歡運動攀登的朋友！    │
│                                  │
│ #攀岩 #龍洞 #運動攀登 #台灣攀岩   │
├──────────────────────────────────┤
│ 📅 2025年12月1日                 │
└──────────────────────────────────┘
```

## 🔧 如何獲得貼文內容資料？

### 目前（示範階段）

使用範例資料：

```tsx
const examplePost = {
  id: 1,
  url: 'https://www.instagram.com/p/DQ0D25cE4Wa/',
  caption: '龍洞攀岩紀錄 🧗‍♂️...',
  username: 'climber_taiwan',
  likesCount: 234,
  commentsCount: 18,
  // ... 手動填寫的資料
}
```

### 未來（實作 Backend API）

從 Instagram API 自動獲取：

```tsx
// 1. Backend 從 Instagram API 獲取資料
const instagramAPI = await fetch(
  `https://graph.instagram.com/media/${mediaId}?fields=caption,like_count,comments_count`
)

// 2. 儲存到資料庫
await InstagramPost.create({
  url: 'https://www.instagram.com/p/DQ0D25cE4Wa/',
  caption: data.caption,
  likesCount: data.like_count,
  // ...
})

// 3. Frontend 從我們的 API 讀取
const posts = await fetch('/api/instagram-posts/')
```

## ❓ 常見問題

### Q1: 為什麼 Instagram iframe 裡看不到完整的貼文說明？

**A:** Instagram iframe 是一個獨立的嵌入視窗，由 Instagram 控制顯示內容。Instagram 通常只在 iframe 裡顯示圖片/影片和基本 UI，不會顯示完整的 caption。

### Q2: 如何同時顯示 Instagram 內容和文字說明？

**A:** 使用 `InstagramPostCard` 元件，它會：
- 在上方顯示使用者資訊
- 中間嵌入 Instagram iframe（圖片/影片）
- 下方顯示貼文內容、統計資訊、Hashtags

### Q3: 貼文內容資料從哪裡來？

**A:** 有兩種方式：
1. **手動輸入**（目前示範）：在程式碼中手動填寫貼文資訊
2. **自動獲取**（未來實作）：透過 Instagram API 自動同步

### Q4: 我能修改 Instagram iframe 裡面的樣式嗎？

**A:** 不能。iframe 內容完全由 Instagram 控制，我們無法修改。但可以控制：
- iframe 外面的元件樣式
- iframe 的大小
- 額外顯示的資訊

## 🎨 視覺化說明

### 純 Instagram 嵌入 vs 完整貼文卡片

```
┌─────────────────────────────────────────────────────────────┐
│                     純 Instagram 嵌入                        │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│               ┌────────────────────┐                        │
│               │                    │                        │
│               │  Instagram iframe  │                        │
│               │  [圖片]            │                        │
│               │  View on Instagram │                        │
│               │                    │                        │
│               └────────────────────┘                        │
│                                                              │
│  ❌ 沒有貼文文字                                              │
│  ❌ 沒有統計資訊                                              │
│  ❌ 沒有 Hashtags                                            │
└─────────────────────────────────────────────────────────────┘

                            VS

┌─────────────────────────────────────────────────────────────┐
│                    完整貼文卡片 ✨                            │
├─────────────────────────────────────────────────────────────┤
│  👤 @climber_taiwan  •  📍 龍洞攀岩場                        │
├─────────────────────────────────────────────────────────────┤
│               ┌────────────────────┐                        │
│               │                    │                        │
│               │  Instagram iframe  │                        │
│               │  [圖片]            │                        │
│               │                    │                        │
│               └────────────────────┘                        │
├─────────────────────────────────────────────────────────────┤
│  ❤️ 234 讚    💬 18 留言    👁️ 1,280 次觀看                │
├─────────────────────────────────────────────────────────────┤
│  climber_taiwan 龍洞攀岩紀錄 🧗‍♂️                           │
│  今天挑戰了 5.12a 的路線，感覺超棒！                         │
│  天氣完美，岩質優良。推薦給所有喜歡運動攀登的朋友！           │
│                                                              │
│  #攀岩 #龍洞 #運動攀登 #台灣攀岩 #climbing #longdong         │
├─────────────────────────────────────────────────────────────┤
│  📅 2025年12月1日                                            │
└─────────────────────────────────────────────────────────────┘
│                                                              │
│  ✅ 有完整貼文文字                                            │
│  ✅ 有統計資訊                                               │
│  ✅ 有 Hashtags 高亮                                         │
│  ✅ 有使用者資訊                                             │
│  ✅ 有發布時間                                               │
└─────────────────────────────────────────────────────────────┘
```

## 💻 立即測試

訪問示範頁面查看實際效果：

```bash
npm run dev
```

然後開啟：`http://localhost:3000/instagram-demo`

你會看到三種展示方式，比較它們的差異！

---

**總結：**
- Instagram iframe 的內容我們**無法控制**
- 我們可以在 iframe **外面**顯示額外的貼文資訊
- 使用 `InstagramPostCard` 元件可以同時顯示 Instagram 內容和詳細資訊
- 實際的貼文資料需要從 Instagram API 或資料庫獲取
