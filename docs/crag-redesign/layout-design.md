# 岩場頁面重新設計方案

## 文件資訊

- **建立日期**: 2026-01-16
- **狀態**: 規劃中
- **相關檔案**:
  - `src/app/crag/[id]/CragDetailClient.tsx`
  - `src/components/crag/route-section.tsx`
  - `src/components/crag/route-sidebar.tsx`
  - `src/components/crag/route-mobile-drawer.tsx`

---

## 1. 現況分析

### 1.1 目前頁面結構

```
岩場詳情頁 (CragDetailClient.tsx)
├── 麵包屑導航
├── 返回按鈕
├── 照片展示區（大圖 + 縮略圖）
├── 標題與位置
├── 搜尋框
├── Tab 切換
│   ├── 路線資訊 (route-section.tsx)
│   │   ├── 分區篩選按鈕
│   │   └── 路線表格
│   ├── 區域詳情
│   └── 岩場介紹
│       ├── 基本資訊
│       ├── 交通方式
│       ├── 地圖
│       ├── 設施
│       ├── 天氣預報
│       └── 即時路況
└── 相關區域
```

### 1.2 現有問題

1. **導航重複**
   - 麵包屑、返回按鈕、Sidebar 返回連結功能重疊
   - 路線詳情頁同時有麵包屑和 Sidebar，視覺混亂

2. **資訊層級不清**
   - Tab 切換讓使用者需要多次點擊才能看到想要的資訊
   - 岩場介紹和路線資訊分開，難以同時參考

3. **路線瀏覽效率**
   - 表格形式在手機上體驗不佳
   - 需要點進路線詳情頁才能看到完整資訊，返回後需重新定位

4. **手機體驗**
   - 表格橫向滾動不直覺
   - 篩選功能佔用過多垂直空間

---

## 2. 設計目標

1. **簡化導航** - 移除重複的導航元素
2. **提升路線瀏覽效率** - 讓使用者能快速切換查看不同路線
3. **資訊可及性** - 重要資訊不需多次點擊即可看到
4. **響應式設計** - 桌面和手機都有良好體驗

---

## 3. 頁面佈局方案

### 3.1 方案 A：主從式佈局（Master-Detail）

適合以「找路線」為主要目的的使用者。

```
桌面版：
┌─────────────────────────────────────────────────────────┐
│  岩場名稱 + 位置 + 快速資訊（類型/路線數/難度範圍）      │
├──────────────────┬──────────────────────────────────────┤
│                  │                                      │
│   路線列表       │        路線詳情 / 岩場介紹           │
│   (固定側邊欄)    │        (主要內容區)                  │
│                  │                                      │
│   - 搜尋框       │   點選路線 → 顯示路線詳情            │
│   - 分區篩選     │   點選「岩場介紹」→ 顯示介紹          │
│   - 路線清單     │                                      │
│                  │                                      │
└──────────────────┴──────────────────────────────────────┘

手機版：
┌─────────────────────────────────────────────────────────┐
│  岩場名稱 + 快速資訊                                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  路線詳情 / 岩場介紹                                    │
│  (主要內容區)                                           │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  [浮動按鈕] → 開啟路線列表抽屜                          │
└─────────────────────────────────────────────────────────┘
```

**優點**：
- 路線瀏覽與詳情在同一頁面，切換快速
- Sidebar 固定，隨時可切換路線
- 不需要頁面跳轉

**缺點**：
- 桌面版主內容區寬度受限
- 需要維護兩套導航（桌面 Sidebar + 手機抽屜）

**適合情境**：
- 路線數量多的岩場（如龍洞 616 條）
- 使用者需要頻繁比較不同路線
- 熟悉岩場的回訪使用者

---

### 3.2 方案 B：岩場介紹優先 + 路線表格

適合第一次造訪岩場、需要整體了解的使用者。

```
┌─────────────────────────────────────────────────────────┐
│  岩場封面照片 (全寬橫幅)                                 │
├─────────────────────────────────────────────────────────┤
│  岩場名稱 + 位置                                        │
├─────────────────────────────────────────────────────────┤
│  快速資訊卡片 (並排)                                    │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │
│  │路線數量  │ │難度範圍  │ │岩石類型  │ │最佳季節  │       │
│  │  616    │ │5.3-5.14a│ │  砂岩   │ │ 春秋冬  │       │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘       │
├─────────────────────────────────────────────────────────┤
│  Tab: [區域總覽] [路線列表] [交通設施] [天氣路況]        │
├─────────────────────────────────────────────────────────┤
│  內容區域（根據 Tab 顯示）                               │
└─────────────────────────────────────────────────────────┘
```

**優點**：
- 岩場資訊一目了然
- Tab 分類清晰，資訊有組織
- 全寬版面，閱讀舒適

**缺點**：
- 需要多次點擊才能看到路線詳情
- Tab 切換增加操作步驟

**適合情境**：
- 新手使用者認識岩場
- 需要規劃行程的使用者
- 路線數量較少的岩場

---

### 3.3 方案 C：雙欄並列式

適合需要同時參考岩場介紹和路線的使用者。

```
┌─────────────────────────────────────────────────────────┐
│  岩場名稱 + 照片輪播                                     │
├───────────────────────────┬─────────────────────────────┤
│                           │                             │
│   岩場介紹                 │       路線資訊              │
│   (左側固定)               │       (右側可滾動)          │
│                           │                             │
│   • 基本資訊              │   搜尋框                    │
│   • 地圖                  │   分區篩選                  │
│   • 交通方式              │   ┌─────────────────────┐   │
│   • 設施                  │   │ 路線卡片 1          │   │
│   • 天氣                  │   │ 路線卡片 2          │   │
│                           │   │ 路線卡片 3          │   │
│                           │   │ ...                 │   │
│                           │   └─────────────────────┘   │
└───────────────────────────┴─────────────────────────────┘
```

**優點**：
- 岩場介紹與路線同時可見
- 不需切換 Tab
- 資訊密度高

**缺點**：
- 每欄寬度受限
- 手機版需要完全不同的佈局
- 資訊量大可能造成視覺負擔

**適合情境**：
- 桌面版使用者
- 已熟悉岩場、主要來找路線的使用者

---

### 3.4 方案 D：路線優先 + 可摺疊岩場介紹

適合回訪使用者、專注於選路線。

```
┌─────────────────────────────────────────────────────────┐
│  岩場標題 + 基本資訊摘要                                 │
│  [展開岩場詳情 ▼]  ← 可摺疊                              │
├─────────────────────────────────────────────────────────┤
│  搜尋框 + 篩選器（難度/類型/區域）                        │
├─────────────────────────────────────────────────────────┤
│  ┌──────────┐ ┌──────────┐ ┌──────────┐                │
│  │ 路線卡片  │ │ 路線卡片  │ │ 路線卡片  │                │
│  │ 名稱     │ │ 名稱     │ │ 名稱     │                │
│  │ 5.10a   │ │ 5.11b   │ │ 5.9     │                │
│  │ Sport   │ │ Trad    │ │ Sport   │                │
│  │ 校門口   │ │ 鐘塔    │ │ 第一乾溝  │                │
│  └──────────┘ └──────────┘ └──────────┘                │
└─────────────────────────────────────────────────────────┘
```

**優點**：
- 路線資訊最大化展示
- 岩場介紹可摺疊不佔空間
- 卡片式設計手機體驗佳

**缺點**：
- 岩場介紹需要額外展開操作
- 卡片佔用空間較表格多

**適合情境**：
- 回訪使用者
- 主要目的是找特定路線

---

### 3.5 方案 E：區域導向式（地圖/視覺化）

適合大型多區域岩場，幫助使用者定位。

```
┌─────────────────────────────────────────────────────────┐
│  岩場名稱 + 區域地圖/示意圖                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │    [校門口]        [鐘塔]        [第一乾溝]       │   │
│  │       ●             ●              ●            │   │
│  │                  示意圖                          │   │
│  │       ●             ●              ●            │   │
│  │    [音樂廳]        [長乾溝]        [大禮堂]       │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│  選擇區域：校門口 (51條路線)                             │
├─────────────────────────────────────────────────────────┤
│  區域介紹 + 該區域路線列表                               │
└─────────────────────────────────────────────────────────┘
```

**優點**：
- 視覺化呈現區域位置關係
- 幫助使用者理解岩場結構
- 適合規劃一日攀岩行程

**缺點**：
- 需要製作區域示意圖
- 開發複雜度高
- 不適合區域少的岩場

**適合情境**：
- 龍洞這種有多個區域的大型岩場
- 需要了解區域位置關係的使用者

---

## 4. 方案比較

| 方案 | 主要使用情境 | 開發複雜度 | 手機體驗 | 資訊密度 |
|------|-------------|-----------|---------|---------|
| A 主從式 | 頻繁切換路線 | 中 | 需抽屜 | 中 |
| B 介紹優先 | 新手認識岩場 | 低 | 佳 | 低 |
| C 雙欄並列 | 同時查看介紹+路線 | 中 | 需重構 | 高 |
| D 路線優先 | 專注找路線 | 低 | 佳 | 高 |
| E 區域導向 | 大型多區域岩場 | 高 | 中 | 中 |

---

## 5. 建議方案

### 5.1 推薦組合：方案 A（主從式）+ 方案 D（路線優先）特點

針對龍洞這類大型岩場，建議採用：

**岩場詳情頁**：方案 D 路線優先
- 頂部顯示岩場基本資訊（可摺疊展開詳情）
- 主體為路線卡片列表
- 點擊路線卡片進入路線詳情頁

**路線詳情頁**：方案 A 主從式
- 左側 Sidebar 顯示路線列表（桌面）
- 右側顯示當前路線詳情
- 手機版使用浮動按鈕 + 抽屜

### 5.2 頁面流程

```
岩場列表 → 岩場詳情頁 → 路線詳情頁
                ↓              ↓
           [路線優先佈局]   [主從式佈局]
           可摺疊岩場介紹   Sidebar 快速切換
```

---

## 6. 下一步

1. 確認採用方案
2. 製作 UI 原型圖
3. 規劃元件拆分
4. 實作開發

