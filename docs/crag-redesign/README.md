# 岩場頁面重新設計

## 概述

本專案旨在重新設計岩場相關頁面的使用者體驗，主要針對以下問題：

1. 導航元素重複（麵包屑 + Sidebar + 位置標示）
2. 路線瀏覽效率不佳
3. 岩場介紹與路線資訊的呈現方式

## 決策狀態：✅ 已確認

| 項目 | 決策 |
|-----|------|
| **佈局方案** | 方案 A：主從式佈局（Master-Detail） |
| **導航方案** | 方案 4：隱藏式麵包屑（SEO 友善） |

詳細實作規格請參考 [decision.md](./decision.md)。

## 文件目錄

| 文件 | 說明 |
|-----|------|
| [decision.md](./decision.md) | **最終決策與實作規格** |
| [layout-design.md](./layout-design.md) | 頁面佈局方案（5 種方案比較） |
| [navigation-design.md](./navigation-design.md) | 導航系統設計（4 種方案比較） |

## 最終設計

### 佈局：主從式（Master-Detail）

```
桌面版：
┌──────────────────┬──────────────────────────────────────┐
│                  │  [≡] 隱藏式麵包屑                    │
│   路線列表       │                                      │
│   (Sidebar)      │        路線詳情 / 岩場介紹           │
│                  │        (主要內容區)                  │
│   - 搜尋框       │                                      │
│   - 分區篩選     │                                      │
│   - 路線清單     │                                      │
│                  │                                      │
└──────────────────┴──────────────────────────────────────┘
```

### 導航：隱藏式麵包屑

- 預設隱藏，點擊圖示展開
- 保留 JSON-LD 結構化資料供 SEO
- Sidebar 提供主要導航功能

## 相關檔案

### 現有實作

```
src/
├── app/crag/[id]/
│   ├── CragDetailClient.tsx     # 岩場詳情頁
│   └── route/                   # 路線詳情頁（規劃中）
├── components/crag/
│   ├── route-section.tsx        # 路線列表（表格式）
│   ├── route-sidebar.tsx        # 路線側邊欄（桌面）
│   ├── route-mobile-drawer.tsx  # 路線抽屜（手機）
│   ├── route-list-item.tsx      # 路線列表項目
│   └── route-list-filter.tsx    # 路線篩選器
└── data/crags/
    └── longdong.json            # 龍洞岩場資料
```

### 資料結構

岩場資料包含：
- 基本資訊（名稱、位置、類型、岩石類型）
- 區域列表（areas）
- 路線詳情（routes_details）
- 交通與設施
- 天氣與即時影像

## 時程規劃

1. **Phase 1**：導航優化
   - 移除路線詳情頁麵包屑
   - 簡化位置標示

2. **Phase 2**：佈局調整
   - 評估並選定佈局方案
   - 實作新版頁面

3. **Phase 3**：手機優化
   - 優化抽屜體驗
   - 測試各裝置顯示

## 更新記錄

| 日期 | 更新內容 |
|-----|---------|
| 2026-01-16 | 建立設計文件 |
| 2026-01-16 | 確認採用方案 A（主從式佈局）+ 方案 4（隱藏式麵包屑） |

